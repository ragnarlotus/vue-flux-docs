import{h as v,g as z,m as S,i as D,o as f,c as _,p as M,u as p,F as U,q as J,j as y,s as H,t as R,v as ve,x as le,y as ae,b as C,f as T,z as F,A as oe,d as _e,B as ye,C as ee,w as B,a as G,T as we,D as ie,E as te,G as ze}from"./app-k9p8jFez.js";var De=Object.defineProperty,Ce=(r,e,t)=>e in r?De(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e,t)=>(Ce(r,typeof e!="symbol"?e+"":e,t),t);const Pe=(r,e)=>{const t=r.__vccOpts||r;for(const[i,s]of e)t[i]=s;return t},Le={},Re={type:"button",class:"flux-button",style:{outline:"0"}},Te={viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},Ee=C("circle",{cx:"50",cy:"50",r:"50"},null,-1),Oe={viewBox:"-20 -20 140 140"};function Fe(r,e){return f(),_("button",Re,[(f(),_("svg",Te,[Ee,(f(),_("svg",Oe,[F(r.$slots,"default")]))]))])}const q=Pe(Le,[["render",Fe]]),Ve=r=>Math.round(r),N=r=>Math.floor(r),A=r=>Math.ceil(r),xe=({width:r,height:e})=>A(Math.sqrt(r*r+e*e)),re=({width:r,height:e})=>r/e;class W{constructor({top:e=null,left:t=null}={top:null,left:null}){h(this,"top",v(null)),h(this,"left",v(null)),this.update({top:e,left:t})}reset(){this.top.value=null,this.left.value=null}isValid(){return![this.top.value,this.left.value].includes(null)}update({top:e,left:t}){this.top.value=e??null,this.left.value=t??null}toValue(){const e={};return this.top.value!==null&&(e.top=this.top.value),this.left.value!==null&&(e.left=this.left.value),e}toPx(){if(!this.isValid())throw new RangeError("Invalid position in pixels");return{top:this.top.value.toString()+"px",left:this.left.value.toString()+"px"}}}class L{constructor({width:e=null,height:t=null}={width:null,height:null}){h(this,"width",v(null)),h(this,"height",v(null)),this.update({width:e,height:t})}reset(){this.width.value=null,this.height.value=null}isValid(){return![this.width.value,this.height.value].includes(null)}update({width:e,height:t}){this.width.value=e??null,this.height.value=t??null}getAspectRatio(){if(!this.isValid())throw new RangeError("Could not get aspect ratio due to invalid size");return re(this.toValue())}clone(){return new L(this.toValue())}equals(e){return!(this.width.value!==e.width.value||this.height.value!==e.height.value)}toValue(){const e={};return this.width.value!==null&&(e.width=this.width.value),this.height.value!==null&&(e.height=this.height.value),e}toPx(){if(!this.isValid())throw new RangeError("Invalid size in pixels");return{width:this.width.value.toString()+"px",height:this.height.value.toString()+"px"}}}var O=(r=>(r.fill="fill",r.fit="fit",r))(O||{});class Ae{constructor(e,t,i=O.fill,s=null,o,l,u){h(this,"src"),h(this,"loader",null),h(this,"errorMessage"),h(this,"status",v(X.notLoaded)),h(this,"realSize",new L),h(this,"displaySize",new L),h(this,"caption",""),h(this,"resizeType"),h(this,"backgroundColor",null),h(this,"display"),h(this,"transition"),h(this,"isLoading",()=>this.status.value===X.loading),h(this,"isLoaded",()=>this.status.value===X.loaded),h(this,"isError",()=>this.status.value===X.error),h(this,"resizeProps",D(()=>this.calcResizeProps(this.displaySize))),this.src=e,this.caption=t,this.resizeType=i,this.backgroundColor=s,this.display=o,this.transition=l,this.errorMessage=u}calcResizeProps(e){if([e.isValid(),this.realSize.isValid()].includes(!1))return{};const t=new Be(this.realSize),{size:i,position:s}=t.resizeTo(e,this.resizeType);return{...i.toValue(),...s.toValue()}}getResizeProps(e,t){const i={width:0,height:0,top:0,left:0};return this.displaySize.isValid()||this.displaySize.update(e.toValue()),Object.assign(i,e.equals(this.displaySize)?this.resizeProps.value:this.calcResizeProps(e)),t!==void 0&&(i.top-=t.top.value||0,i.left-=t.left.value||0),i}}const ne=z({__name:"FluxImage",props:{color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({base:{overflow:"hidden"},color:D(()=>{var n,d;const m={};return t.color!==void 0&&(m.backgroundColor=t.color),((n=t.rsc)==null?void 0:n.backgroundColor)!==null&&(m.backgroundColor=(d=t.rsc)==null?void 0:d.backgroundColor),m}),rsc:D(()=>{const{rsc:n,size:d,offset:m}=t;if(!n)return{};if(n.status.value===X.notLoaded)return n.load(),{};if(!n.isLoaded()||!d.isValid()||!i.value)return{};const{width:g,height:k,top:$,left:Y}=n.getResizeProps(d,m);return{backgroundImage:`url(${n.src})`,backgroundSize:`${g}px ${k}px`,backgroundPosition:`${Y}px ${$}px`,backgroundRepeat:"no-repeat"}})}),{style:o,setCss:l,transform:u,show:a,hide:c}=Z(i,t,s);return e({setCss:l,transform:u,show:a,hide:c}),(n,d)=>(f(),_("div",{ref_key:"$el",ref:i,class:"flux-image",style:M(p(o))},null,4))}});var be=(r=>(r.notLoaded="notLoaded",r.loading="loading",r.loaded="loaded",r.error="error",r))(be||{});const X=be;class Yt extends Ae{constructor(e,t="",i=O.fill,s=null){const o={component:ne,props:{}},l={component:ne,props:{}},u=`Image ${e} could not be loaded`;super(e,t,i,s,o,l,u)}load(){return this.loader!==null?this.loader:(this.loader=new Promise((e,t)=>{this.status.value=X.loading;const i=new Image;i.onload=()=>this.onLoad(i,e),i.onerror=()=>this.onError(t),i.src=this.src}),this.loader)}onLoad(e,t){this.realSize=new L({width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}),this.status.value=X.loaded,t()}onError(e){this.status.value=X.error,e(this.errorMessage)}}const de=r=>r>=1?"landscape":"portrait";class Be{constructor(e){if(h(this,"realSize"),h(this,"realAspectRatio"),h(this,"realOrientation"),e.isValid()===!1)throw new RangeError("Invalid real size");this.realSize=e,this.realAspectRatio=this.realSize.getAspectRatio(),this.realOrientation=de(this.realAspectRatio)}resizeTo(e,t){if(e.isValid()===!1)throw new RangeError("Invalid size to resize");const i=e.getAspectRatio(),s=de(i),o=this.getAdaptedSize(e,i,s,t),l=this.getAdaptedPosition(e,i,o,t);return{size:o,position:l}}getAdaptedSize(e,t,i,s){return i==="landscape"&&this.realOrientation==="portrait"&&s===O.fill?this.getAdaptedSizeByWith(e):i==="landscape"&&this.realOrientation==="landscape"&&t>=this.realAspectRatio&&s===O.fill?this.getAdaptedSizeByWith(e):i==="landscape"&&this.realOrientation==="landscape"&&t<this.realAspectRatio&&s===O.fit?this.getAdaptedSizeByWith(e):i==="portrait"&&this.realOrientation==="landscape"&&s===O.fit?this.getAdaptedSizeByWith(e):i==="portrait"&&this.realOrientation==="portrait"&&t>this.realAspectRatio&&s===O.fill?this.getAdaptedSizeByWith(e):i==="portrait"&&this.realOrientation==="portrait"&&t<=this.realAspectRatio&&s===O.fit?this.getAdaptedSizeByWith(e):this.getAdaptedSizeByHeight(e)}getAdaptedSizeByWith(e){return new L({width:e.width.value,height:e.width.value/this.realAspectRatio})}getAdaptedSizeByHeight(e){return new L({width:this.realAspectRatio*e.height.value,height:e.height.value})}getAdaptedPosition(e,t,i,s){return this.realAspectRatio<=t&&s===O.fill?this.getAdaptedPositionVertically(e,i):this.realAspectRatio>t&&s===O.fit?this.getAdaptedPositionVertically(e,i):this.getAdaptedPositionHorizontally(e,i)}getAdaptedPositionVertically(e,t){return new W({top:(e.height.value-t.height.value)/2,left:0})}getAdaptedPositionHorizontally(e,t){return new W({top:0,left:(e.width.value-t.width.value)/2})}}class Ie{constructor(e,t,i,s,o,l,u){h(this,"rscs",[]),h(this,"counter",{success:0,error:0,total:0}),h(this,"toPreload"),h(this,"preLoading",[]),h(this,"lazyLoading",[]),h(this,"progress",v(0)),h(this,"displaySize"),h(this,"onPreloadStart"),h(this,"onPreloadEnd"),h(this,"onLazyLoadStart"),h(this,"onLazyLoadEnd"),this.rscs=e,this.toPreload=t>e.length?e.length:t,this.displaySize=i,this.onPreloadStart=s,this.onPreloadEnd=o,this.onLazyLoadStart=l,this.onLazyLoadEnd=u,this.preloadStart()}preloadStart(){this.onPreloadStart();const{counter:e}=this,t=this.rscs.slice(e.total,e.total+this.toPreload-e.success);this.preLoading=this.preLoading.concat(t),t.forEach(i=>this.load(i))}preloadEnd(){const{counter:e,toPreload:t}=this;if(e.success<t&&e.total<t){this.preloadStart();return}const i=this.preLoading.filter(s=>s.resource.isLoaded());this.onPreloadEnd(i),this.preLoading.length=0,e.total<this.rscs.length&&this.lazyLoadStart()}lazyLoadStart(){this.onLazyLoadStart(),this.lazyLoading=this.rscs.slice(this.counter.total),this.lazyLoading.forEach(e=>this.load(e))}lazyLoadEnd(){const e=this.lazyLoading.filter(t=>t.resource.isLoaded());this.onLazyLoadEnd(e),this.lazyLoading.length=0}load(e){e.resource.load().then(()=>{this.loadSuccess(e)}).catch(t=>{this.loadError(t)}).finally(()=>{this.counter.total++,this.preLoading.length!==0&&this.updateProgress(),this.counter.total===this.toPreload?this.preloadEnd():this.counter.total===this.rscs.length&&this.lazyLoadEnd()})}loadSuccess(e){this.counter.success++,e.resource.displaySize.update(this.displaySize.toValue())}loadError(e){this.counter.error++,console.error(e)}updateProgress(){this.progress.value=A(this.counter.success*100/this.toPreload)||0}}function Z(r,e,t){t.base===void 0&&(t.base={});const i=D(()=>{const{size:l,viewSize:u=new L}=e,{width:a=l.width.value,height:c=l.height.value}=u.toValue(),n=new L({width:a,height:c});return n.isValid()?n.toPx():{}}),s=D(()=>({...p(i),...p(t.color),...p(t.rsc),...p(e.css),...p(t.base)})),o=l=>{Object.assign(t.base,l)};return{style:s,setCss:o,transform:l=>{r.value!==null&&(r.value.clientHeight,o(l))},show:()=>{o({visibility:"visible"})},hide:()=>{o({visibility:"hidden"})}}}const fe={x:{top:"90",bottom:"-90"},y:{back:"180",backr:"180",backl:"-180",left:"-90",right:"90"}},me={x:{left:"-50",right:"50"},y:{top:"-50",bottom:"50"}};class Ye{constructor(e,t,i){h(this,"depth"),h(this,"size"),h(this,"viewSize"),h(this,"translateZ",D(()=>{const s=this.depth/2,{width:o,height:l}=this.size.toValue(),{width:u,height:a}=this.viewSize.toValue();return{front:0,back:this.depth,backr:this.depth,backl:this.depth,left:s,right:(u??o)-s,top:s,bottom:(a??l)-s}})),this.depth=e,this.size=t,this.viewSize=i}getRotate(e){const t=fe.x[e]??"0",i=fe.y[e]??"0";return`rotateX(${t}deg) rotateY(${i}deg)`}getTranslate(e){const t=me.x[e]??"0",i=me.y[e]??"0",s=this.translateZ.value[e].toString();return`translate3d(${t}%, ${i}%, ${s}px)`}getSideCss(e){return`${this.getRotate(e)} ${this.getTranslate(e)}`}}class Me{static getProps(e,t,i,s,o){const{depth:l,size:u,viewSize:a}=e,c={name:t,component:s?s.transition.component:ne,color:i,rsc:s,size:u.clone(),viewSize:a.clone(),offset:o,style:{position:"absolute",transform:e.getSideCss(t),backfaceVisibility:"hidden"}};return["left","right"].includes(t)&&(c.viewSize.width.value=l,c.size.width.value=l),["top","bottom"].includes(t)&&(c.viewSize.height.value=l,c.size.height.value=l),c}}var se=(r=>(r.front="front",r.back="back",r.left="left",r.right="right",r.top="top",r.bottom="bottom",r))(se||{});function Ne(r,e,t){return!!(e&&e[r]||t&&t[r])}function Xe(r,e,t,i){const s=Object.values(se);return r||t?s:Object.values(se).filter(o=>Ne(o,e,i))}class We{static getSidesProps(e,t,i,s,o,l,u){const a=Xe(t,i,s,o),c={};return a.forEach(n=>{c[n]=Me.getProps(e,n,i&&i[n]?i[n]:t,o&&o[n]?o[n]:s,u&&u[n]?u[n]:l)}),c}}const ue=z({__name:"FluxCube",props:{colors:{default:()=>({})},rscs:{default:()=>({})},offsets:{default:()=>({})},depth:{default:0},origin:{},color:{},rsc:{},size:{},viewSize:{default:()=>new L},offset:{},css:{}},setup(r,{expose:e}){const t=r,i=v(null),s=D(()=>t.origin!==void 0?t.origin:`center center -${t.depth/2}px`),o=S({base:{transformStyle:"preserve-3d",transformOrigin:s}}),{style:l,setCss:u,transform:a,show:c,hide:n}=Z(i,t,o),d=D(()=>new Ye(t.depth,t.size,t.viewSize)),m=D(()=>We.getSidesProps(d.value,t.color,t.colors,t.rsc,t.rscs,t.offset,t.offsets));return e({setCss:u,transform:a,show:c,hide:n,turn:g=>a({transform:d.value.getRotate(g)})}),(g,k)=>(f(),_("div",{ref_key:"$el",ref:i,class:"flux-cube",style:M(p(l))},[(f(!0),_(U,null,J(m.value,$=>(f(),y(R($.component),H({key:$.name},$),null,16))),128))],4))}});var K=(r=>(r.front="front",r.back="back",r.backr="backr",r.backl="backl",r.left="left",r.right="right",r.top="top",r.bottom="bottom",r))(K||{});function ke(r,e){return N(r/e)}function Se(r,e){return r%e}class je{static getProps(e,t){let{width:i,height:s}=t.size.toValue();const o=ke(t.number,e.numCols),l=Se(t.number,e.numCols),u={color:e.color,colors:e.colors,rsc:e.rsc,rscs:e.rscs,size:e.size,depth:e.depth,offset:new W({top:o*s,left:l*i})};return o+1===e.numRows&&(s=e.size.height.value-o*s),l+1===e.numCols&&(i=e.size.width.value-l*i),u.viewSize=new L({width:i,height:s}),u.css={...t.css,position:"absolute",...u.offset.toPx(),zIndex:t.number+1<e.numTiles/2?t.number+1:e.numTiles-t.number},u}}class He{static getTilesProps(e){const{rows:t,cols:i,size:s,color:o,colors:l,rsc:u,rscs:a,depth:c}=e,n=A(t),d=A(i),m={numRows:n,numCols:d,numTiles:n*d,size:s,depth:c,color:o,colors:l,rsc:u,rscs:a},g={number:0,size:new L({width:N(s.width.value/d),height:N(s.height.value/n)}),css:e.tileCss},k=[];for(let $=0;$<m.numTiles;$++)g.number=$,k.push(je.getProps(m,g));return k}}const I=z({__name:"FluxGrid",props:{colors:{},rscs:{},rows:{default:1},cols:{default:1},depth:{default:0},tileCss:{},color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({base:{position:"relative"}}),{style:o,setCss:l,show:u,hide:a}=Z(i,t,s),c=D(()=>{var m;return t.rscs!==void 0?ue:(m=t.rsc)==null?void 0:m.transition.component}),n=D(()=>He.getTilesProps(t)),d=v([]);return ve(()=>{d.value=[]}),e({setCss:l,transform:m=>{d.value.forEach((g,k)=>m(g,k))},show:u,hide:a,getRowNumber:ke,getColNumber:Se}),(m,g)=>(f(),_("div",{ref_key:"$el",ref:i,class:"flux-grid",style:M(p(o))},[(f(!0),_(U,null,J(n.value,(k,$)=>(f(),y(R(c.value),H({ref_for:!0,ref:Y=>d.value.push(Y),key:$},k),null,16))),128))],4))}}),Mt=z({__name:"FluxParallax",props:{rsc:{},holder:{default:()=>window},type:{default:"relative"},offset:{default:"100%"}},setup(r,{expose:e}){const t=r,i=v(null),{holder:s,rsc:o}=t,l={base:{position:"relative",background:`url("${o.src}") no-repeat`},defined:S({}),final:D(()=>({...l.base,...p(l.defined)}))},u=(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.userAgent==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream,a=S({width:0,height:0,aspectRatio:D(()=>re(a))}),c=S({top:0,width:0,height:0,aspectRatio:D(()=>re(c))}),n=S({top:0,left:0,width:0,height:0}),d={position:"absolute",top:0,left:0,bottom:0,right:0,clip:"rect(auto auto auto auto)"},m=D(()=>({position:"absolute",top:0,bottom:0,left:0,right:0,background:`url("${o.src}") no-repeat center center fixed`,backgroundSize:`${n.width}px ${n.height}px`})),g=D(()=>{const{offset:w}=t,x=parseFloat(w);return/^[0-9]+px$/.test(w)?{px:x,pct:x*100/n.height}:/^[0-9]+%$/.test(w)?{px:A(c.height*x/100),pct:x}:{px:0,pct:0}}),k=D(()=>{const w=u?a.height:c.height+g.value.px;return n.height-w});le(()=>{window.addEventListener("resize",$,{passive:!0}),(t.type!=="fixed"||u)&&s.addEventListener("scroll",j,{passive:!0}),o.load().then(()=>{$()})}),ae(()=>{window.removeEventListener("resize",$),s.removeEventListener("scroll",j)});const $=()=>{a.width=s.scrollWidth||s.innerWidth,a.height=s.scrollHeight||s.innerHeight,c.width=i.value.clientWidth,c.height=i.value.clientHeight,c.top=i.value.getBoundingClientRect().top+window.scrollY,o.displaySize.update(a);const w=o.resizeProps.value;n.width=w.width,n.height=w.height,l.defined.backgroundSize=`${n.width}px ${n.height}px`,l.defined.backgroundPosition="center 0",j()},Y=w=>{k.value>0&&(w=w*g.value.pct/100+50-g.value.pct/2),l.defined.backgroundPositionY=w.toFixed(2)+"%"},j=()=>{if(!o.isLoaded()||!u&&t.type==="fixed")return;const w=s.scrollY||s.scrollTop||0;if(s!==window)return Q.relative(w);if(w+a.height<c.top||w>c.top+c.height)return;let x=w-c.top+a.height;Q[t.type](x)},Q={visible:w=>{let x=0;w<c.height?x=0:w>a.height?x=100:x=(w-c.height)*100/(a.height-c.height),Y(x)},relative:w=>{let x;s===window?x=w*100/(a.height+c.height):x=w*100/(a.height-s.clientHeight),Y(x)},fixed:w=>{l.defined.backgroundPositionY=w-a.height+"px"}};return e({resize:$}),(w,x)=>(f(),_("div",{ref_key:"$el",ref:i,class:"flux-parallax",style:M(l.final.value)},[t.type==="fixed"&&!p(u)?(f(),_("div",{key:0,style:d},[C("div",{class:"image",style:M(m.value)},null,4)])):T("",!0),F(w.$slots,"default")],4))}}),Ge=z({__name:"FluxTransition",props:{size:{},transition:{},from:{},to:{},displayComponent:{},options:{default:()=>({})}},emits:["ready","start","end"],setup(r,{expose:e,emit:t}){const i=r,s=v(null),o=v(null),l=t,u=S({base:{overflow:"hidden",perspective:"none",zIndex:3}}),a=D(()=>{const{width:m,height:g}=i.size.toPx();return{...u.base,width:m,height:g}}),c=v(1);le(async()=>{o.value!==null&&(c.value=o.value.totalDuration),l("ready",{transition:i.transition,from:i.from,to:i.to,options:i.options,duration:c.value})});async function n(){l("start",{transition:i.transition,from:i.from,to:i.to,options:i.options,duration:c.value}),await ie(),o.value===null?console.error("Transition component available",i.transition):o.value.onPlay(),setTimeout(()=>d(),c.value)}function d(){l("end",{transition:i.transition,from:i.from,to:i.to,options:i.options,duration:c.value})}return ae(()=>{[null,void 0].includes(i.displayComponent)===!1&&i.displayComponent.show()}),e({duration:c,start:n}),(m,g)=>(f(),_("div",{ref_key:"$el",ref:s,class:"flux-transition",style:M(a.value)},[(f(),y(R(m.transition),{ref_key:"$transition",ref:o,size:m.size,from:m.from,to:m.to,"display-component":m.displayComponent,options:m.options,"mask-style":u.base},null,8,["size","from","to","display-component","options","mask-style"]))],4))}});class Ke{static getProps(e,t,i){const s=(e.numCircles-t)*e.radius*2,o=e.radius*t,l={offset:new W({top:e.topGap+o,left:e.leftGap+o})};return l.css={...i,position:"absolute",...l.offset.toPx(),width:s+"px",height:s+"px",backgroundRepeat:"repeat",borderRadius:"50%",zIndex:t},l}}class Ue{static getCirclesProps(e){const{width:t,height:i}=e.size.toValue(),s=Ve(e.circles),o=xe({width:t,height:i}),l=A(o/2/s),u=A(i/2-l*s),a=A(t/2-l*s),c={numCircles:s,diagonal:o,radius:l,topGap:u,leftGap:a},n=[];for(let d=0;d<s;d++)n.push(Ke.getProps(c,d,e.tileCss));return n}}const $e=z({__name:"FluxVortex",props:{rsc:{},circles:{default:1},tileCss:{},color:{},size:{},viewSize:{},offset:{},css:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({base:{position:"relative",overflow:"hidden"}}),{style:o,setCss:l,show:u,hide:a}=Z(i,t,s),c=D(()=>Ue.getCirclesProps(t)),n=v([]);return ve(()=>{n.value=[]}),e({setCss:l,transform:d=>{n.value.forEach((m,g)=>d(m,g))},show:u,hide:a}),(d,m)=>(f(),_("div",{ref_key:"$el",ref:i,class:"flux-vortex",style:M(p(o))},[(f(!0),_(U,null,J(c.value,(g,k)=>(f(),y(R(d.rsc.transition.component),{ref_for:!0,ref:$=>n.value.push($),key:k,size:d.size,rsc:d.rsc,offset:g.offset,css:g.css},null,8,["size","rsc","offset","css"]))),128))],4))}}),ce=z({__name:"FluxWrapper",props:{color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({base:{overflow:"hidden"}}),{style:o,setCss:l,transform:u,show:a,hide:c}=Z(i,t,s);return e({setCss:l,transform:u,show:a,hide:c}),(n,d)=>(f(),_("div",{ref_key:"$el",ref:i,class:"flux-wrapper",style:M(p(o))},[F(n.$slots,"default")],4))}});var b=(r=>(r.prev="prev",r.next="next",r))(b||{}),V=(r=>(r.stopped="stopped",r.playing="playing",r))(V||{});class Je{constructor(){h(this,"current",null),h(this,"from",null),h(this,"to",null)}reset(){this.current=null,this.from=null,this.to=null}init(e){this.current=e.getFirst()}}class qe{constructor(){h(this,"current",null),h(this,"last",null)}reset(){this.current=null,this.last=null}init(e){this.last=e.getLast()}}class Ze{constructor(e,t,i){h(this,"resource"),h(this,"transition"),h(this,"status",v(V.stopped)),h(this,"config"),h(this,"timers"),h(this,"emit"),h(this,"transitions",null),h(this,"resources",null),h(this,"$displayComponent",v(null)),this.config=e,this.timers=t,this.emit=i,this.resource=te(new Je),this.transition=te(new qe)}setup(e,t,i){this.transitions=t,this.resources=e,this.$displayComponent=i}play(e=b.next,t){var i,s;const{config:o,timers:l,resource:u}=this;if(this.status.value=V.playing,this.transition.current!==null)return;const a=(s=this.resources)==null?void 0:s.find(e,(i=u.current)==null?void 0:i.index);l.set("transition",t||(a==null?void 0:a.options.delay)||o.delay,()=>{this.show(e)}),this.emit("play",e,t)}async stop(e=!1){const{timers:t}=this;this.status.value=V.stopped,t.clear("transition"),this.transition.current!==null&&e===!0&&await this.end(e),this.emit("stop")}isReadyToShow(){if(this.resource.current===null)throw new ReferenceError("Current resource not set");if(this.resources===null)throw new ReferenceError("Resources list not set");if(this.resources.list.length===0)throw new RangeError("Resources list empty");if(this.transition.last===null)throw new ReferenceError("Last transition not set");if(this.transitions===null)throw new ReferenceError("Transitions list not set");if(this.transitions.list.length===0)throw new RangeError("Transitions list empty");if(this.$displayComponent.value===null)throw new ReferenceError("Display component not set");return!0}async show(e=b.next,t=b.next){if(!this.isReadyToShow())return;const{resource:i,resources:s,config:o,transitions:l}=this;if(this.transition.current!==null){o.allowToSkipTransition&&(await this.end(!0),this.show(e,t));return}const u=s.find(e,i.current.index);if(i.current.index===u.index)return;this.timers.clear("transition"),this.resource.from=i.current,this.resource.to=u;const a=typeof t=="number"?l.getByIndex(t):l.getByOrder(t,this.transition.last.index);a.options.direction===void 0&&(typeof e!="number"?a.options.direction=e:a.options.direction=this.resource.from.index<this.resource.to.index?b.next:b.prev),this.transition.current=a,this.emit("show",this.resource,this.transition)}start(){this.resource.current=this.resource.to,this.emit("transitionStart",this.resource,this.transition)}async end(e=!1){const{config:t,resource:i,resources:s,timers:o,transition:l}=this;if(!(i.current===null||s===null)){if(l.last=l.current,l.current=null,await ie(),this.emit(e?"transitionCancel":"transitionEnd",this.resource,this.transition),t.infinite===!1&&i.current.index>=s.list.length-1&&this.status.value===V.playing){this.stop();return}if(i.current.options.stop===!0){this.stop();return}this.status.value===V.playing&&e===!1&&o.set("transition",i.current.options.delay||t.delay,()=>{this.show()})}}}class pe{constructor(e,t=null,i=null){h(this,"node"),h(this,"config"),h(this,"emit",null),h(this,"size",new L),h(this,"inFullScreen",()=>!!document.fullscreenElement),this.node=e,this.config=t,this.emit=i}static async getSize(e){const t=new pe(e);return await t.updateSize(),t.size}addResizeListener(){window.addEventListener("resize",()=>this.updateSize(),{passive:!0})}removeResizeListener(){window.removeEventListener("resize",this.updateSize)}getAspectRatio(){if(this.config!==null){const[e,t]=this.config.aspectRatio.split(":");return[parseFloat(e),parseFloat(t)]}return[16,9]}async updateSize(){if(this.size.reset(),await ie(),this.node.value===null)return;const e=getComputedStyle(this.node.value);let t=parseFloat(e.width),i=parseFloat(e.height);if(["0px","auto",null].includes(e.height)){const[s,o]=this.getAspectRatio();i=t/s*o}this.size.update({width:t,height:i})}toggleFullScreen(){this.inFullScreen()?this.exitFullScreen():this.enterFullScreen()}async enterFullScreen(){var e,t;((e=this.node)==null?void 0:e.value)===null||!((t=this.config)!=null&&t.allowFullscreen)||(await this.node.value.requestFullscreen(),this.emit!==null&&this.emit("fullscreenEnter"))}async exitFullScreen(){await document.exitFullscreen(),this.emit!==null&&this.emit("fullscreenExit")}}class Qe{constructor(e,t){h(this,"config"),h(this,"player"),this.config=e,this.player=t}setup(){this.removeKeyListener(),this.config.bindKeys&&this.addKeyListener()}addKeyListener(){window.addEventListener("keydown",e=>this.keydown(e),{passive:!0})}removeKeyListener(){window.removeEventListener("keydown",()=>this.keydown)}keydown(e){if(["ArrowLeft","Left"].includes(e.key)){this.player.show(b.prev);return}if(["ArrowRight","Right"].includes(e.key)){this.player.show(b.next);return}}}class et{constructor(){h(this,"isOver",v(!1))}setup(e,t){t.clear("mouseOver"),e.autohideTime===0&&(this.isOver.value=!0)}toggle(e,t,i){e.autohideTime!==0&&(this.isOver.value=i,this[i?"over":"out"](e,t))}out(e,t){t.clear("mouseOver")}over(e,t){t.set("mouseOver",e.autohideTime,()=>this.isOver.value=!1)}}class tt{constructor(){h(this,"timers",{})}set(e,t,i){this.clear(e),this.timers[e]=setTimeout(i,t)}clear(e){(e!==void 0?[e]:Object.keys(this.timers)).forEach(t=>{clearTimeout(this.timers[t]),delete this.timers[t]})}}const ge=Math.abs;class st{constructor(){h(this,"startX",0),h(this,"startY",0),h(this,"startTime",0),h(this,"endTime",0),h(this,"prevTouchTime",0),h(this,"tapThreshold",5),h(this,"doubleTapThreshold",200),h(this,"slideTrigger",.3),h(this,"tap",(e,t)=>ge(e)<this.tapThreshold&&ge(t)<this.tapThreshold),h(this,"doubleTap",()=>this.endTime-this.prevTouchTime<this.doubleTapThreshold),h(this,"slideLeft",(e,t)=>t.size.isValid()&&e<0&&e<-(t.size.width.value*this.slideTrigger)),h(this,"slideRight",(e,t)=>t.size.isValid()&&e>0&&e>t.size.width.value*this.slideTrigger),h(this,"slideUp",(e,t)=>t.size.isValid()&&e<0&&e<-(t.size.height.value*this.slideTrigger)),h(this,"slideDown",(e,t)=>t.size.isValid()&&e>0&&e>t.size.height.value*this.slideTrigger)}start(e,t){t.enableGestures&&(this.startTime=Date.now(),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY)}end(e,t,i,s,o,l){this.prevTouchTime=this.endTime,this.endTime=Date.now();const u=e.changedTouches[0].clientX-this.startX,a=e.changedTouches[0].clientY-this.startY;if(this.tap(u,a)){l.toggle(t,o,!0);return}t.enableGestures&&(this.slideRight(u,s)?i.show(b.prev):this.slideLeft(u,s)&&i.show(b.next))}}class it{constructor(e){h(this,"list",te([])),h(this,"loader",v(null)),h(this,"emit"),this.emit=e}getPrev(e){return this.getByIndex(e>0?e-1:this.list.length-1)}getNext(e){return this.getByIndex(e===this.list.length-1?0:e+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(b.prev,0)}getByIndex(e){if(this.list[e]===void 0)throw new ReferenceError(`Resource index ${e} not found`);return{index:e,rsc:this.list[e].resource,options:JSON.parse(JSON.stringify(this.list[e].options))}}getByOrder(e,t){return{prev:()=>this.getPrev(t),next:()=>this.getNext(t)}[e]()}find(e,t){if(typeof e=="number")return this.getByIndex(e);if(t===void 0)throw new ReferenceError("Missing currentIndex parameter");return this.getByOrder(e,t)}update(e,t,i){this.list.splice(0);const s=ze(e).map(o=>{let l=o,u={};return"resource"in o&&(l=o.resource,"options"in o&&(u=o.options)),{resource:l,options:u}});return new Promise(o=>{this.loader.value=new Ie(s,t,i,()=>this.preloadStart(),l=>this.preloadEnd(l,o),()=>this.lazyLoadStart(),l=>this.lazyLoadEnd(l))})}preloadStart(){this.emit("resourcesPreloadStart")}preloadEnd(e,t){e.forEach(i=>this.list.push(i)),this.emit("resourcesPreloadEnd"),t()}lazyLoadStart(){this.emit("resourcesLazyloadStart")}lazyLoadEnd(e){e.forEach(t=>this.list.push(t)),this.emit("resourcesLazyloadEnd")}}class ot{constructor(){h(this,"list",te([]))}getPrev(e){return this.getByIndex(e>0?e-1:this.list.length-1)}getNext(e){return this.getByIndex(e===this.list.length-1?0:e+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(b.prev,0)}getByIndex(e){return{index:e,component:this.list[e].component,options:JSON.parse(JSON.stringify(this.list[e].options))}}getByOrder(e,t){return{prev:()=>this.getPrev(t),next:()=>this.getNext(t)}[e]()}update(e){this.list.splice(0),ze(e).forEach(t=>{let i=t,s={};"component"in t&&(i=t.component,"options"in t&&(s=t.options)),this.list.push({component:i,options:s})})}}const rt={key:2,class:"complements"},nt=C("div",{class:"remainder upper"},null,-1),lt=C("div",{class:"remainder lower"},null,-1),Nt=z({__name:"VueFlux",props:{options:{},rscs:{},transitions:{}},emits:["created","mounted","unmounted","play","stop","show","optionsUpdated","transitionsUpdated","resourcesPreloadStart","resourcesPreloadEnd","resourcesLazyloadStart","resourcesLazyloadEnd","fullscreenEnter","fullscreenExit","transitionStart","transitionCancel","transitionEnd"],setup(r,{expose:e,emit:t}){const i=r,s=t,o=v(null),l=v(null),u=v(null),a=S({allowFullscreen:!1,allowToSkipTransition:!0,aspectRatio:"16:9",autohideTime:2500,autoplay:!1,bindKeys:!1,delay:5e3,enableGestures:!1,infinite:!0,lazyLoad:!0,lazyLoadAfter:5}),c=new tt,n=new Ze(a,c,s),d=new it(s),m=new ot,g=new pe(o,a,s),k=new Qe(a,n),$=new et,Y=new st,j=()=>{Object.assign(a,i.options),$.setup(a,c),k.setup()};oe(()=>i.options,()=>{j(),s("optionsUpdated")},{deep:!0}),oe(()=>i.rscs,async()=>{const w=n.status.value===V.playing;w&&await n.stop(!0),n.resource.reset();const x=a.lazyLoad?a.lazyLoadAfter:i.rscs.length;await d.update(i.rscs,x,g.size),n.resource.init(d),w&&n.play()}),oe(()=>i.transitions,async()=>{const w=n.status.value===V.playing;w&&await n.stop(!0),n.transition.reset(),m.update(i.transitions),n.transition.init(m),w&&n.play(),s("transitionsUpdated")}),le(async()=>{j(),await g.updateSize(),g.addResizeListener(),n.setup(d,m,u),m.update(i.transitions),n.transition.init(m),await d.update(i.rscs,a.lazyLoadAfter,g.size),n.resource.init(d),a.autoplay===!0&&n.play(),s("mounted")}),ae(()=>{c.clear(),g.removeResizeListener(),k.removeKeyListener(),s("unmounted")});const Q=D(()=>g.size.isValid()?g.inFullScreen()?{width:"100% !important",height:"100% !important"}:g.size.toPx():{});return e({show:n.show.bind(n),play:n.play.bind(n),stop:n.stop.bind(n),getPlayer:()=>n}),s("created"),(w,x)=>(f(),_("div",{ref_key:"$container",ref:o,class:"vue-flux",style:M(Q.value),onMousemove:x[3]||(x[3]=E=>p($).toggle(a,p(c),!0)),onMouseleave:x[4]||(x[4]=E=>p($).toggle(a,p(c),!1)),onDblclick:x[5]||(x[5]=E=>p(g).toggleFullScreen()),onTouchstart:x[6]||(x[6]=E=>p(Y).start(E,a)),onTouchend:x[7]||(x[7]=E=>p(Y).end(E,a,p(n),p(g),p(c),p($)))},[p(n).transition.current!==null&&p(g).size.isValid()&&p(n).resource.from!==null&&p(n).resource.to!==null?(f(),y(p(Ge),{key:0,ref_key:"$transition",ref:l,transition:p(n).transition.current.component,size:p(g).size,from:p(n).resource.from.rsc,to:p(n).resource.to.rsc,"display-component":u.value,options:p(n).transition.current.options,onReady:x[0]||(x[0]=E=>{var he;return(he=l.value)==null?void 0:he.start()}),onStart:x[1]||(x[1]=E=>p(n).start()),onEnd:x[2]||(x[2]=E=>p(n).end())},null,8,["transition","size","from","to","display-component","options"])):T("",!0),p(n).resource.current!==null?(f(),y(R(p(n).resource.current.rsc.display.component),H({key:1,ref_key:"$displayComponent",ref:u,size:p(g).size,rsc:p(n).resource.current.rsc},p(n).resource.current.rsc.display.props),null,16,["size","rsc"])):T("",!0),p(g).size.isValid()?(f(),_("div",rt,[F(w.$slots,"preloader",{loader:p(d).loader}),F(w.$slots,"caption",{currentResource:p(n).resource.current,currentTransition:p(n).transition.current}),nt,F(w.$slots,"controls",{mouseOver:p($).isOver,player:p(n)}),lt,F(w.$slots,"index",{mouseOver:p($).isOver,displaySize:p(g).size,resources:p(d),player:p(n)}),F(w.$slots,"pagination",{resources:p(d),currentResource:p(n).resource.current,currentTransition:p(n).transition.current,show:E=>p(n).show(E)})])):T("",!0)],36))}}),Xt=z({__name:"FluxCaption",props:{currentResource:{},currentTransition:{}},setup(r){const e=r,t=D(()=>e.currentResource===null||e.currentResource.rsc.caption===null?"&nbsp;":e.currentResource.rsc.caption),i=D(()=>{const s=["flux-caption"];return e.currentTransition===null&&e.currentResource!==null&&e.currentResource.rsc.caption.length>0&&s.push("visible"),s});return(s,o)=>(f(),_("div",{class:ee(i.value)},[F(s.$slots,"default",{},()=>[_e(ye(t.value),1)])],2))}}),at=C("polyline",{points:"64,18 22,50 64,82"},null,-1),ut=z({__name:"Prev",setup(r){return(e,t)=>(f(),y(p(q),{class:"prev top left"},{default:B(()=>[at]),_:1}))}}),ct=C("polygon",{points:"32,12 82,50 32,88"},null,-1),pt=z({__name:"Play",setup(r){return(e,t)=>(f(),y(p(q),{class:"play"},{default:B(()=>[ct]),_:1}))}}),ht=C("line",{x1:"32",y1:"22",x2:"32",y2:"78"},null,-1),dt=C("line",{x1:"68",y1:"22",x2:"68",y2:"78"},null,-1),ft=z({__name:"Stop",setup(r){return(e,t)=>(f(),y(p(q),{class:"pause"},{default:B(()=>[ht,dt]),_:1}))}}),mt=C("polyline",{points:"36,18 78,50 36,82"},null,-1),gt=z({__name:"Next",setup(r){return(e,t)=>(f(),y(p(q),{class:"next top right"},{default:B(()=>[mt]),_:1}))}}),vt={key:0,class:"flux-controls"},Wt=z({__name:"FluxControls",props:{mouseOver:{},player:{}},setup(r){const e=r,t=D(()=>!(e.player.resource.current===null||e.mouseOver!==void 0&&e.mouseOver.value===!1));return(i,s)=>(f(),y(we,{name:"fade"},{default:B(()=>[t.value?(f(),_("div",vt,[G(ut,{onClick:s[0]||(s[0]=o=>i.player.show(p(b).prev))}),i.player.status.value===p(V).stopped?(f(),y(pt,{key:0,onClick:s[1]||(s[1]=o=>i.player.play(p(b).next,1))})):T("",!0),i.player.status.value===p(V).playing?(f(),y(ft,{key:1,onClick:s[2]||(s[2]=o=>i.player.stop())})):T("",!0),G(gt,{onClick:s[3]||(s[3]=o=>i.player.show(p(b).next))})])):T("",!0)]),_:1}))}}),yt=C("rect",{x:"17.5",y:"17.5",width:"12px",height:"12px"},null,-1),wt=C("rect",{x:"17.5",y:"43",width:"12px",height:"12px"},null,-1),zt=C("rect",{x:"17.5",y:"68.5",width:"12px",height:"12px"},null,-1),xt=C("rect",{x:"43",y:"17.5",width:"12px",height:"12px"},null,-1),bt=C("rect",{x:"43",y:"43",width:"12px",height:"12px"},null,-1),kt=C("rect",{x:"43",y:"68.5",width:"12px",height:"12px"},null,-1),St=C("rect",{x:"68.5",y:"17.5",width:"12px",height:"12px"},null,-1),$t=C("rect",{x:"68.5",y:"43",width:"12px",height:"12px"},null,-1),_t=C("rect",{x:"68.5",y:"68.5",width:"12px",height:"12px"},null,-1),Dt=z({__name:"Button",props:{mouseOver:{}},setup(r){const e=r,t=D(()=>e.mouseOver.value===!0);return(i,s)=>(f(),y(we,{name:"fade"},{default:B(()=>[t.value?(f(),y(p(q),{key:0,class:"toggle bottom left"},{default:B(()=>[yt,wt,zt,xt,bt,kt,St,$t,_t]),_:1})):T("",!0)]),_:1}))}}),Ct=z({__name:"Thumb",props:{rsc:{},size:{}},setup(r){return(e,t)=>(f(),_("li",null,[(f(),y(R(e.rsc.transition.component),{rsc:e.rsc,size:e.size.value,title:e.rsc.caption},null,8,["rsc","size","title"]))]))}});function Pt(r,e){const t=D(()=>{let{width:s,height:o}=r.toValue();return s=s/4.2,o=s*90/160,s>160&&(s=160,o=90),new L({width:s,height:o})});function i(s){const{current:o}=e.resource;return o===null||o.index!==s?"":"current"}return{size:t,getClass:i}}const Lt=500,Rt=z({__name:"List",props:{displaySize:{},resources:{},player:{}},setup(r,{expose:e}){const t=r,i=v(null),s=v(!1),o=D(()=>{const c=[];return s.value&&c.push("visible"),c});async function l(){i.value!==null&&(t.player.stop(),s.value=!0,await ie(),i.value.clientHeight,i.value.style.marginTop="0")}function u(c){var n;i.value!==null&&((n=t.player.resource.current)==null?void 0:n.index)!==c&&(i.value.clientHeight,i.value.style.marginTop="100%",setTimeout(()=>{s.value=!1,c!==null&&t.player.show(c)},Lt))}const a=Pt(t.displaySize,t.player);return e({show:l}),(c,n)=>(f(),_("nav",{class:ee(o.value),onClick:n[0]||(n[0]=d=>u(null))},[C("ul",{ref_key:"$list",ref:i},[(f(!0),_(U,null,J(c.resources.list,(d,m)=>(f(),y(Ct,{key:m,rsc:d.resource,size:p(a).size,class:ee(p(a).getClass(m)),onClick:g=>u(m)},null,8,["rsc","size","class","onClick"]))),128))],512)],2))}}),Tt={key:0,class:"flux-index"},jt=z({__name:"FluxIndex",props:{mouseOver:{},displaySize:{},resources:{},player:{}},setup(r){const e=r,t=v(null),i=D(()=>e.resources.list.length>0);return(s,o)=>i.value?(f(),_("div",Tt,[G(Dt,{"mouse-over":s.mouseOver,onClick:o[0]||(o[0]=l=>{var u;return(u=t.value)==null?void 0:u.show()})},null,8,["mouse-over"]),G(Rt,{ref_key:"$fluxIndexList",ref:t,"display-size":s.displaySize,resources:s.resources,player:s.player},null,8,["display-size","resources","player"])])):T("",!0)}}),Et={key:0,class:"flux-pagination"},Ot=["title","onClick"],Ht=z({__name:"FluxPagination",props:{resources:{},currentResource:{},currentTransition:{},show:{type:Function}},setup(r){const e=r,t=D(()=>e.resources.list.length>0),i=o=>o.resource.caption,s=(o,l)=>{var u;const a=[l];let c=((u=e.currentResource)==null?void 0:u.index)===o;return e.currentTransition!==null&&(c=!1),c===!0&&a.push("active"),a};return(o,l)=>t.value?(f(),_("nav",Et,[C("ul",null,[(f(!0),_(U,null,J(o.resources.list,(u,a)=>(f(),_("li",{key:a},[F(o.$slots,"default",{index:a,rsc:u,title:i(u),cssClass:s(a,"custom-pagination-item"),onClick:c=>o.show(a)},()=>[C("span",{title:i(u),class:ee(s(a,"pagination-item")),onClick:c=>o.show(a)},null,10,Ot)])]))),128))])])):T("",!0)}}),Ft={class:"preloader"},Vt={key:0,class:"spinner"},At={class:"pct"},Bt=C("div",{class:"border"},null,-1),Gt=z({__name:"FluxPreloader",props:{loader:{}},setup(r){return(e,t)=>{var i,s,o;return f(),_("div",Ft,[F(e.$slots,"default",{loader:e.loader,preloading:(i=e.loader.value)==null?void 0:i.preLoading.length,lazyloading:(s=e.loader.value)==null?void 0:s.lazyLoading.length,pct:(o=e.loader.value)==null?void 0:o.progress},()=>{var l,u;return[(l=e.loader.value)!=null&&l.preLoading.length?(f(),_("div",Vt,[C("div",At,ye((u=e.loader.value)==null?void 0:u.progress)+"%",1),Bt])):T("",!0)]})])}}});function P(r,e){Object.assign(r,{direction:b.next},e)}const Kt=z({__name:"Fade",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({totalDuration:1200,easing:"ease-in"});P(s,t.options);const o={zIndex:1};return e({onPlay:()=>{i.value!==null&&i.value.transform({transition:`opacity ${s.totalDuration}ms ${s.easing}`,opacity:0})},totalDuration:s.totalDuration}),(l,u)=>(f(),y(R(l.from.transition.component),{ref_key:"$from",ref:i,rsc:l.from,size:l.size,css:o},null,8,["rsc","size"]))}}),Ut=z({__name:"Kenburn",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({totalDuration:1500,easing:"linear"});P(s,t.options);const o=[{scale:"1.7",translateX:"-35%",translateY:"-35%",originX:"top",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"-35%",originX:"top",originY:"right"},{scale:"1.7",translateX:"-35%",translateY:"35%",originX:"bottom",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"35%",originX:"bottom",originY:"right"}],l=N(Math.random()*4),u=o[l],a={transformOrigin:u.originX+" "+u.originY};return e({onPlay:()=>{i.value!==null&&i.value.transform({transition:`all ${s.totalDuration}ms ${s.easing}`,transform:`scale(${u.scale}) translate(${u.translateX}, ${u.translateY})`,opacity:0})},totalDuration:s.totalDuration}),(c,n)=>(f(),y(R(c.from.transition.component),{ref_key:"$from",ref:i,rsc:c.from,size:c.size,css:a},null,8,["rsc","size"]))}}),Jt=z({__name:"Swipe",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=v(null),o=S({totalDuration:1400,easing:"ease-in-out"});P(o,t.options);const l={position:"absolute",top:0,display:"flex",flexWrap:"nowrap"},u={flex:"0 0 auto"};return{[b.prev]:()=>{Object.assign(l,{right:0,justifyContent:"flex-end"})},[b.next]:()=>{Object.assign(l,{left:0,justifyContent:"flex-start"})}}[o.direction](),e({onPlay:()=>{i.value!==null&&i.value.transform({transition:`width ${o.totalDuration}ms ${o.easing}`,width:0})},totalDuration:o.totalDuration}),(a,c)=>(f(),y(p(ce),{ref_key:"$wrapper",ref:i,size:a.size,css:l},{default:B(()=>[(f(),y(R(a.from.transition.component),{ref_key:"$from",ref:s,rsc:a.from,size:a.size,css:u},null,8,["rsc","size"]))]),_:1},8,["size"]))}}),qt=z({__name:"Slide",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=v(null),o=v(null),l=S({totalDuration:1400,easing:"ease-in-out"});P(l,t.options);const u=`transform ${l.totalDuration}ms ${l.easing}`,a={size:new L({width:t.size.width.value*2,height:t.size.height.value}),css:{display:"flex",flexWrap:"nowrap"}};let c,n;({[b.prev]:()=>{c=t.to,n=t.from,a.css.transform="translateX(-50%)"},[b.next]:()=>{c=t.from,n=t.to}})[l.direction]();const d={[b.prev]:()=>{i.value.transform({transition:u,transform:"translateX(0)"})},[b.next]:()=>{i.value.transform({transition:u,transform:"translateX(-50%)"})}};return e({onPlay:()=>{i.value!==null&&d[l.direction]()},totalDuration:l.totalDuration}),(m,g)=>(f(),y(p(ce),H({ref_key:"$wrapper",ref:i},a),{default:B(()=>[(f(),y(R(p(c).transition.component),{ref_key:"$left",ref:s,rsc:p(c),size:m.size},null,8,["rsc","size"])),(f(),y(R(p(n).transition.component),{ref_key:"$right",ref:o,rsc:p(n),size:m.size},null,8,["rsc","size"]))]),_:1},16))}}),Zt=z({__name:"Waterfall",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({rows:1,cols:10,tileDuration:600,tileDelay:90,easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"});P(s,t.options);const o=s.tileDelay*s.cols+s.tileDuration,l={[b.prev]:u=>(s.cols-u-1)*s.tileDelay,[b.next]:u=>u*s.tileDelay};return e({onPlay:()=>{i.value!==null&&i.value.transform((u,a)=>{const c=`all ${s.tileDuration}ms ${s.easing} ${l[s.direction](a)}ms`;u.transform({transition:c,opacity:"0.1",transform:"translateY(100%)"})})},totalDuration:o}),(u,a)=>(f(),y(p(I),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:u.size,rsc:u.from},null,8,["rows","cols","size","rsc"]))}}),Qt=z({__name:"Zip",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({rows:1,cols:10,tileDuration:600,easing:"ease-in",tileDelay:80});P(s,t.options);const o=s.tileDelay*s.cols+s.tileDuration,l={[b.prev]:u=>(s.cols-u-1)*s.tileDelay,[b.next]:u=>u*s.tileDelay};return e({onPlay:()=>{i.value!==null&&i.value.transform((u,a)=>{const c=`all ${s.tileDuration}ms ${s.easing} ${l[s.direction](a)}ms`;u.transform({transition:c,opacity:"0.1",transform:`translateY(${a%2?"-":""}100%)`})})},totalDuration:o}),(u,a)=>(f(),y(p(I),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:u.size,rsc:u.from},null,8,["rows","cols","size","rsc"]))}}),es=z({__name:"Blinds2D",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({rows:1,cols:10,tileDuration:800,easing:"linear",tileDelay:100});P(s,t.options);const o={[se.front]:t.from},l=s.tileDelay*s.cols+s.tileDuration,u={prev:a=>(s.cols-a-1)*s.tileDelay,next:a=>a*s.tileDelay};return e({onPlay:()=>{i.value!==null&&i.value.transform((a,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${u[s.direction](c)}ms`;a.transform({transition:n,opacity:"0.1",transform:"scaleX(0)"})})},totalDuration:l}),(a,c)=>(f(),y(p(I),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:a.size,rscs:o},null,8,["rows","cols","size"]))}}),ts=z({__name:"Blocks1",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){var t;const i=r,s=v(null),o=S({rows:8,cols:8,tileDuration:300,easing:"linear",tileDelay:1e3});if(P(o,i.options),!((t=i.options)!=null&&t.rows)){const a=i.size.width.value/o.cols;o.rows=N(i.size.height.value/a)}const l=o.tileDelay+o.tileDuration,u=()=>N(Math.random()*o.tileDelay);return e({onPlay:()=>{s.value!==null&&s.value.transform(a=>{const c=`all ${o.tileDuration}ms ${o.easing} ${u()}ms`;a.transform({transition:c,opacity:"0",transform:"scale(0.3, 0.3)"})})},totalDuration:l}),(a,c)=>(f(),y(p(I),{ref_key:"$grid",ref:s,rows:o.rows,cols:o.cols,size:a.size,rsc:a.from},null,8,["rows","cols","size","rsc"]))}}),ss=z({__name:"Blocks2",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){var t;const i=r,s=v(null),o=v(null),l=S({rows:8,cols:8,tileDuration:800,tileDelay:80,easing:"ease"});P(l,i.options);const u=l.tileDelay*(l.rows+l.cols)+l.tileDuration;if(!((t=i.options)!=null&&t.rows)){const g=i.size.width.value/l.cols;l.rows=Math.floor(i.size.height.value/g)}const a={rsc:null,css:{position:"absolute",top:0,left:0,zIndex:1}},c=JSON.parse(JSON.stringify(a));c.css.zIndex=2;let n={};({prev:()=>{c.rsc=i.to,a.rsc=i.from,n={opacity:0,transform:"scale(0.3)"}},next:()=>{c.rsc=i.from}})[l.direction]();const d=g=>{const k=s.value.getRowNumber(g,l.cols);let $=s.value.getColNumber(g,l.cols)+k;return l.direction===b.prev&&($=l.rows+l.cols-$-1),$*l.tileDelay},m={prev:()=>{s.value.transform((g,k)=>{g.transform({transition:`all ${l.tileDuration}ms ${l.easing} ${d(k)}ms`,opacity:1,transform:"scale(1)"})})},next:()=>{s.value.transform((g,k)=>{g.transform({transition:`all ${l.tileDuration}ms ${l.easing} ${d(k)}ms`,opacity:0,transform:"scale(0.3)"})})}};return e({onPlay:()=>{s.value!==null&&m[l.direction]()},totalDuration:u}),(g,k)=>(f(),_("div",null,[G(p(I),H({ref_key:"$grid",ref:s,rows:l.rows,cols:l.cols,size:g.size,"tile-css":p(n)},p(c)),null,16,["rows","cols","size","tile-css"]),a.rsc!==null?(f(),y(R(a.rsc.transition.component),H({key:0,ref_key:"$background",ref:o,size:g.size},a),null,16,["size"])):T("",!0)]))}}),is=z({__name:"Concentric",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({circles:7,tileDuration:800,easing:"linear",tileDelay:150});P(s,t.options);const o=s.tileDelay*s.circles+s.tileDuration,l=u=>u*s.tileDelay;return e({onPlay:()=>{if(i.value===null)return;const u={prev:"-90",next:"90"};i.value.transform((a,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${l(c)}ms`;a.transform({transition:n,opacity:"0",transform:`rotateZ(${u[s.direction]}deg)`})})},totalDuration:o}),(u,a)=>(f(),y(p($e),{ref_key:"$vortex",ref:i,size:u.size,circles:s.circles,rsc:u.from},null,8,["size","circles","rsc"]))}}),os=z({__name:"Warp",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({circles:7,tileDuration:800,easing:"linear",tileDelay:150});P(s,t.options);const o=s.tileDelay*s.circles+s.tileDuration,l={[b.prev]:a=>(s.circles-a-1)*s.tileDelay,[b.next]:a=>a*s.tileDelay},u=a=>a%2===0?"-90":"90";return e({onPlay:()=>{i.value!==null&&i.value.transform((a,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${l[s.direction](c)}ms`;a.transform({transition:n,opacity:"0",transform:`rotateZ(${u(c)}deg)`})})},totalDuration:o}),(a,c)=>(f(),y(p($e),{ref_key:"$vortex",ref:i,size:a.size,circles:s.circles,rsc:a.from},null,8,["size","circles","rsc"]))}}),rs=z({__name:"Camera",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=v(null),o=S({circles:2,totalDuration:900,easing:"cubic-bezier(0.385, 0, 0.795, 0.560)",backgroundColor:"#111"});P(o,t.options);const l={alignSelf:"center",flex:"none"},u=xe(t.size.toValue()),a=new L({width:u,height:u}),c={boxSizing:"border-box",position:"absolute",display:"flex",justifyContent:"center",overflow:"hidden",borderRadius:"50%",border:"0 solid "+o.backgroundColor,top:(t.size.height.value-u)/2+"px",left:(t.size.width.value-u)/2+"px"};return e({onPlay:()=>{[i.value,s.value].includes(null)||(i.value.transform({transition:`all ${o.totalDuration/2-50}ms ${o.easing} 0ms`,borderWidth:u/2+"px"}),setTimeout(()=>{s.value.hide(),i.value.transform({transition:`all ${o.totalDuration/2-50}ms ${o.easing} 0ms`,borderWidth:0})},o.totalDuration/2+50))},totalDuration:o.totalDuration}),(n,d)=>(f(),y(p(ce),{ref_key:"$wrapper",ref:i,size:p(a),css:c},{default:B(()=>[(f(),y(R(n.from.transition.component),{ref_key:"$from",ref:s,size:n.size,rsc:n.from,css:l},null,8,["size","rsc"]))]),_:1},8,["size"]))}}),ns=z({__name:"Cube",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({totalDuration:1400,easing:"ease-out"});P(s,t.options),Object.assign(t.maskStyle,{perspective:"1600px",overflow:"visible"});const o={front:t.from,left:t.to,right:t.to},l={transition:`all ${s.totalDuration}ms ${s.easing}`};return e({onPlay:()=>{if(i.value===null)return;t.displayComponent.value!==null&&t.displayComponent.hide();const u={next:K.left,prev:K.right};i.value.turn(u[s.direction])},totalDuration:s.totalDuration}),(u,a)=>(f(),y(p(ue),{ref_key:"$cube",ref:i,rscs:o,size:u.size,depth:u.size.width.value,css:l},null,8,["size","depth"]))}}),ls=z({__name:"Book",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=v(null),o=S({totalDuration:1200,easing:"ease-out"});P(o,t.options);const l=new L({width:A(t.size.width.value/2),height:t.size.height.value}),u={perspective:"1600px",width:"100%",height:"100%"},a=new W({top:0,left:0}),c={position:"absolute",top:0,left:0},n={rscs:{front:t.from,back:t.to},offsets:{front:new W({top:0,left:0}),back:new W({top:0,left:0})},origin:void 0,css:{position:"absolute",top:0,left:0}},d=A(t.size.width.value/2),m=d.toString()+"px";t.maskStyle.overflow="visible",{prev:()=>{a.left.value=d,c.left=m,n.offsets.back.left.value=d,n.origin="right center",n.css={...n.css}},next:()=>{n.offsets.front.left.value=d,n.origin="left center",n.css={...n.css,left:m}}}[o.direction]();const g={prev:"180",next:"-180"}[o.direction];return e({onPlay:()=>{[i.value,s.value].includes(null)||s.value.transform({transition:`transform ${o.totalDuration}ms ${o.easing}`,transform:`rotateY(${g}deg)`})},totalDuration:o.totalDuration}),(k,$)=>(f(),_("div",{style:u},[(f(),y(R(k.from.transition.component),{ref_key:"$from",ref:i,rsc:k.from,size:k.size,"view-size":p(l),offset:p(a),css:c},null,8,["rsc","size","view-size","offset"])),G(p(ue),{ref_key:"$cube",ref:s,rscs:n.rscs,size:k.size,"view-size":p(l),offsets:n.offsets,origin:n.origin,css:n.css},null,8,["rscs","size","view-size","offsets","origin","css"])]))}}),as=z({__name:"Fall",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({totalDuration:1600,easing:"ease-in"});P(s,t.options),Object.assign(t.maskStyle,{perspective:"1600px",overflow:"visible"});const o={transformOrigin:"center bottom"};return e({onPlay:()=>{i.value!==null&&i.value.transform({transition:`transform ${s.totalDuration}ms ${s.easing}`,transform:"rotateX(-83.6deg)"})},totalDuration:s.totalDuration}),(l,u)=>(f(),y(R(l.from.transition.component),{ref_key:"$from",ref:i,rsc:l.from,size:l.size,style:o},null,8,["rsc","size"]))}}),us=z({__name:"Wave",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({rows:1,cols:8,tileDuration:900,tileDelay:110,easing:"cubic-bezier(0.3, -0.3, 0.735, 0.285)",sideColor:"#333"});P(s,t.options),t.maskStyle.overflow="visible";const o={front:t.from,top:t.to},l={left:s.sideColor,right:s.sideColor},u={overflow:"visible",perspective:"1200px"},a=s.tileDelay*s.cols+s.tileDuration,c={[b.prev]:n=>(s.cols-n-1)*s.tileDelay,[b.next]:n=>n*s.tileDelay};return e({onPlay:()=>{i.value!==null&&(t.displayComponent&&t.displayComponent.hide(),i.value.transform((n,d)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${c[s.direction](d)}ms`;n.setCss({transition:m}),n.turn(K.bottom)}))},totalDuration:a}),(n,d)=>(f(),y(p(I),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:n.size,rscs:o,colors:l,depth:n.size.height.value,css:u},null,8,["rows","cols","size","depth"]))}}),cs=z({__name:"Blinds3D",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({rows:1,cols:6,tileDuration:800,easing:"ease-out",tileDelay:150});P(s,t.options);const o={perspective:"800px"},l={front:t.from,back:t.to},u=s.tileDelay*s.cols+s.tileDuration;t.maskStyle.overflow="visible";const a={prev:c=>(s.cols-c-1)*s.tileDelay,next:c=>c*s.tileDelay};return e({onPlay:()=>{if(i.value===null)return;t.displayComponent&&t.displayComponent.hide();const c={prev:"backl",next:"backr"};i.value.transform((n,d)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${a[s.direction](d)}ms`;n.setCss({transition:m}),n.turn(c[s.direction])})},totalDuration:u}),(c,n)=>(f(),y(p(I),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:c.size,rscs:l,css:o},null,8,["rows","cols","size"]))}}),ps=z({__name:"Round1",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){var t;const i=r,s=v(null),o=S({rows:0,cols:8,tileDuration:800,easing:"ease-out",tileDelay:150});P(o,i.options);const l={front:i.from,back:i.to},u={perspective:"800px"};if(i.maskStyle.overflow="visible",!((t=i.options)!=null&&t.rows)){const d=i.size.width.value/o.cols;o.rows=N(i.size.height.value/d)}const a=o.rows>o.cols?o.rows:o.cols,c=o.tileDelay*a*2,n=d=>{const m=s.value.getRowNumber(d,o.cols);let g=s.value.getColNumber(d,o.cols)+m;return o.direction===b.prev&&(g=o.rows+o.cols-g-1),g*o.tileDelay};return e({onPlay:()=>{if(s.value===null)return;i.displayComponent&&i.displayComponent.hide();const d={[b.prev]:K.backl,[b.next]:K.backr};s.value.transform((m,g)=>{const k=`all ${o.tileDuration}ms ${o.easing} ${n(g)}ms`;m.setCss({transition:k}),m.turn(d[o.direction])})},totalDuration:c}),(d,m)=>(f(),y(p(I),{ref_key:"$grid",ref:s,rows:o.rows,cols:o.cols,size:d.size,rscs:l,css:u},null,8,["rows","cols","size"]))}}),hs=z({__name:"Round2",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){var t;const i=r,s=v(null),o=S({rows:0,cols:9,tileDuration:800,tileDelay:100,easing:"linear",rotateX:-540});P(o,i.options),i.maskStyle.overflow="visible";const l={perspective:"1200px"},u={backfaceVisibility:"hidden"};if(!((t=i.options)!=null&&t.rows)){const n=i.size.width.value/o.cols;o.rows=N(i.size.height.value/n)}const a=(o.cols/2+o.rows)*(o.tileDelay*2),c=n=>{const d=s.value.getRowNumber(n,o.cols),m=s.value.getColNumber(n,o.cols);let g,k;return o.direction===b.prev?(g=Math.abs(o.rows/2-.5-d),k=Math.abs(o.cols-m)):(g=Math.abs(o.rows/2-.5-d),k=Math.abs(m)),(g+k-1)*o.tileDelay};return e({onPlay:()=>{s.value!==null&&s.value.transform((n,d)=>{const m=`all ${o.tileDuration}ms ${o.easing} ${c(d)}ms`;n.transform({transition:m,opacity:"0",transform:`rotateY(${o.rotateX.toString()}deg)`})})},totalDuration:a}),(n,d)=>(f(),y(p(I),{ref_key:"$grid",ref:s,rows:o.rows,cols:o.cols,size:n.size,depth:0,rsc:n.from,css:l,"tile-css":u},null,8,["rows","cols","size","rsc"]))}}),ds=z({__name:"Explode",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(r,{expose:e}){const t=r,i=v(null),s=S({rows:9,cols:9,tileDuration:300,easing:"linear",tileDelay:100});P(s,t.options);const o={overflow:"visible"};if(t.maskStyle.overflow="visible",!t.options.rows){const a=t.size.width.value/s.cols;s.rows=N(t.size.height.value/a)}const l=(s.cols/2+s.rows/2)*(s.tileDelay*2),u=a=>{const c=i.value.getRowNumber(a,s.cols),n=i.value.getColNumber(a,s.cols),d=Math.abs(s.rows/2-.5-c),m=Math.abs(s.cols/2-.5-n);return(d+m-1)*s.tileDelay};return e({onPlay:()=>{i.value!==null&&i.value.transform((a,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${u(c)}ms`;a.transform({transition:n,borderRadius:"100%",opacity:"0",transform:"scale(2)"})})},totalDuration:l}),(a,c)=>(f(),y(p(I),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:a.size,rsc:a.from,css:o},null,8,["rows","cols","size","rsc"]))}});export{Ht as G,Xt as H,Wt as I,Ut as J,Gt as K,Yt as M,Zt as Q,L as R,Kt as U,Mt as X,Nt as Y,Jt as Z,ls as a,I as b,ue as c,hs as d,W as e,Ge as f,qt as g,es as h,ne as i,jt as j,rs as k,ns as l,as as m,is as n,ss as o,cs as p,q,os as r,ts as s,Qt as t,us as u,ps as v,ds as w,$e as x,b as y};
