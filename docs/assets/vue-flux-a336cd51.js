import{g,f as x,h as k,l as $,o as d,c as D,F as J,m as U,i as z,p as K,q as E,s as M,u as h,t as rt,v as nt,d as C,x as F,y as X,z as st,A as vt,B as Q,w as N,a as H,T as gt,C as et,D as tt,E as yt}from"./app-39d482a5.js";var St=Object.defineProperty,$t=(o,t,e)=>t in o?St(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,p=(o,t,e)=>($t(o,typeof t!="symbol"?t+"":t,e),e);const Dt=(o,t)=>{const e=o.__vccOpts||o;for(const[i,s]of t)e[i]=s;return e},_t={},Ct={type:"button",class:"flux-button",style:{outline:"0"}},Rt={viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},Pt=C("circle",{cx:"50",cy:"50",r:"50"},null,-1),Lt={viewBox:"-20 -20 140 140"};function Tt(o,t){return d(),D("button",Ct,[(d(),D("svg",Rt,[Pt,(d(),D("svg",Lt,[X(o.$slots,"default")]))]))])}const Z=Dt(_t,[["render",Tt]]),Et=o=>Math.round(o),A=o=>Math.floor(o),V=o=>Math.ceil(o),wt=({width:o,height:t})=>V(Math.sqrt(o*o+t*t)),it=({width:o,height:t})=>o/t;class W{constructor({top:t=null,left:e=null}={top:null,left:null}){p(this,"top",g(null)),p(this,"left",g(null)),this.update({top:t,left:e})}reset(){this.top.value=null,this.left.value=null}isValid(){return![this.top.value,this.left.value].includes(null)}update({top:t,left:e}){this.top.value=t??null,this.left.value=e??null}toRaw(){const t={};return this.top.value!==null&&(t.top=this.top.value),this.left.value!==null&&(t.left=this.left.value),t}toPx(){if(!this.isValid())throw new RangeError("Invalid position in pixels");return{top:this.top.value.toString()+"px",left:this.left.value.toString()+"px"}}}class L{constructor({width:t=null,height:e=null}={width:null,height:null}){p(this,"width",g(null)),p(this,"height",g(null)),this.update({width:t,height:e})}reset(){this.width.value=null,this.height.value=null}isValid(){return![this.width.value,this.height.value].includes(null)}update({width:t,height:e}){this.width.value=t??null,this.height.value=e??null}getAspectRatio(){if(!this.isValid())throw new RangeError("Could not get aspect ratio due to invalid size");return it(this.toRaw())}clone(){return new L(this.toRaw())}equals(t){return!(this.width.value!==t.width.value||this.height.value!==t.height.value)}toRaw(){const t={};return this.width.value!==null&&(t.width=this.width.value),this.height.value!==null&&(t.height=this.height.value),t}toPx(){if(!this.isValid())throw new RangeError("Invalid size in pixels");return{width:this.width.value.toString()+"px",height:this.height.value.toString()+"px"}}}class pt{constructor(t){p(this,"realSize"),this.realSize=t}resizeTo(t){if(t.isValid()===!1)throw new RangeError("Invalid size to resize");const e=this.getAdaptedSize(t),i=this.getAdaptedPosition(t,e);return{size:e,position:i}}getAdaptedSize(t){return this.realSize.getAspectRatio()<=t.getAspectRatio()?new L({width:t.width.value,height:t.width.value/this.realSize.getAspectRatio()}):new L({width:this.realSize.getAspectRatio()*t.height.value,height:t.height.value})}getAdaptedPosition(t,e){return this.realSize.getAspectRatio()<=t.getAspectRatio()?new W({top:(t.height.value-e.height.value)/2,left:0}):new W({top:0,left:(t.width.value-e.width.value)/2})}}class Ot{constructor(t,e,i,s,r,a,u){p(this,"rscs",[]),p(this,"counter",{success:0,error:0,total:0}),p(this,"toPreload"),p(this,"preLoading",[]),p(this,"lazyLoading",[]),p(this,"progress",g(0)),p(this,"displaySize"),p(this,"onPreloadStart"),p(this,"onPreloadEnd"),p(this,"onLazyLoadStart"),p(this,"onLazyLoadEnd"),this.rscs=t,this.toPreload=e>t.length?t.length:e,this.displaySize=i,this.onPreloadStart=s,this.onPreloadEnd=r,this.onLazyLoadStart=a,this.onLazyLoadEnd=u,this.preloadStart()}preloadStart(){this.onPreloadStart();const{counter:t}=this,e=this.rscs.slice(t.total,t.total+this.toPreload-t.success);this.preLoading=this.preLoading.concat(e),e.forEach(i=>this.load(i))}preloadEnd(){const{counter:t,toPreload:e}=this;if(t.success<e&&t.total<e){this.preloadStart();return}const i=this.preLoading.filter(s=>s.resource.isLoaded());this.onPreloadEnd(i),this.preLoading.length=0,t.total<this.rscs.length&&this.lazyLoadStart()}lazyLoadStart(){this.onLazyLoadStart(),this.lazyLoading=this.rscs.slice(this.counter.total),this.lazyLoading.forEach(t=>this.load(t))}lazyLoadEnd(){const t=this.lazyLoading.filter(e=>e.resource.isLoaded());this.onLazyLoadEnd(t),this.lazyLoading.length=0}load(t){t.resource.load().then(()=>{this.loadSuccess(t)}).catch(e=>{this.loadError(e)}).finally(()=>{this.counter.total++,this.preLoading.length!==0&&this.updateProgress(),this.counter.total===this.toPreload?this.preloadEnd():this.counter.total===this.rscs.length&&this.lazyLoadEnd()})}loadSuccess(t){this.counter.success++,t.resource.displaySize.update(this.displaySize.toRaw())}loadError(t){this.counter.error++,console.error(t)}updateProgress(){this.progress.value=V(this.counter.success*100/this.toPreload)||0}}function G(o,t,e){e.base===void 0&&(e.base={});const i=k(()=>{const{size:a,viewSize:u=new L}=t,{width:l=a.width.value,height:c=a.height.value}=u.toRaw(),n=new L({width:l,height:c});return n.isValid()?n.toPx():{}}),s=k(()=>({...h(i),...h(e.color),...h(e.rsc),...h(t.css),...h(e.base)})),r=a=>{Object.assign(e.base,a)};return{style:s,setCss:r,transform:a=>{o.value!==null&&(o.value.clientHeight,r(a))},show:()=>{r({visibility:"visible"})},hide:()=>{r({visibility:"hidden"})}}}const dt={x:{top:"90",bottom:"-90"},y:{back:"180",backr:"180",backl:"-180",left:"-90",right:"90"}},ft={x:{left:"-50",right:"50"},y:{top:"-50",bottom:"50"}};class Ft{constructor(t,e,i){p(this,"depth"),p(this,"size"),p(this,"viewSize"),p(this,"translateZ",k(()=>{const s=this.depth/2,{width:r,height:a}=this.size.toRaw(),{width:u,height:l}=this.viewSize.toRaw();return{front:0,back:this.depth,backr:this.depth,backl:this.depth,left:s,right:(u??r)-s,top:s,bottom:(l??a)-s}})),this.depth=t,this.size=e,this.viewSize=i}getRotate(t){const e=dt.x[t]??"0",i=dt.y[t]??"0";return`rotateX(${e}deg) rotateY(${i}deg)`}getTranslate(t){const e=ft.x[t]??"0",i=ft.y[t]??"0",s=this.translateZ.value[t].toString();return`translate3d(${e}%, ${i}%, ${s}px)`}getSideCss(t){return`${this.getRotate(t)} ${this.getTranslate(t)}`}}class Bt{static getProps(t,e,i,s,r){const{depth:a,size:u,viewSize:l}=t,c={name:e,component:s?s.transition.component:ot,color:i,rsc:s,size:u.clone(),viewSize:l.clone(),offset:r,style:{position:"absolute",transform:t.getSideCss(e),backfaceVisibility:"hidden"}};return["left","right"].includes(e)&&(c.viewSize.width.value=a,c.size.width.value=a),["top","bottom"].includes(e)&&(c.viewSize.height.value=a,c.size.height.value=a),c}}var lt=(o=>(o.front="front",o.back="back",o.left="left",o.right="right",o.top="top",o.bottom="bottom",o))(lt||{});function It(o,t,e){return t[o]!==void 0||e[o]!==void 0}function Vt(o,t){return Object.values(lt).filter(e=>It(e,o,t))}class Nt{static getSidesProps(t,e,i,s,r){const a=Vt(e,i),u={};return a.forEach(l=>{u[l]=Bt.getProps(t,l,e[l],i[l],s[l]!==void 0?s[l]:r)}),u}}const at=x({__name:"FluxCube",props:{colors:{default:()=>({})},rscs:{default:()=>({})},offsets:{default:()=>({})},depth:{default:0},origin:{},color:{},rsc:{},size:{},viewSize:{default:()=>new L},offset:{},css:{}},setup(o,{expose:t}){const e=o,i=g(null),s=k(()=>e.origin!==void 0?e.origin:`center center -${e.depth/2}px`),r=$({base:{transformStyle:"preserve-3d",transformOrigin:s}}),{style:a,setCss:u,transform:l,show:c,hide:n}=G(i,e,r),f=k(()=>new Ft(e.depth,e.size,e.viewSize)),m=k(()=>Nt.getSidesProps(f.value,e.colors,e.rscs,e.offsets,e.offset));return t({setCss:u,transform:l,show:c,hide:n,turn:v=>l({transform:f.value.getRotate(v)})}),(v,_)=>(d(),D("div",{ref_key:"$el",ref:i,class:"flux-cube",style:M(h(a))},[(d(!0),D(J,null,U(m.value,S=>(d(),z(E(S.component),K({key:S.name},S),null,16))),128))],4))}});var q=(o=>(o.front="front",o.back="back",o.backr="backr",o.backl="backl",o.left="left",o.right="right",o.top="top",o.bottom="bottom",o))(q||{});function zt(o,t){return A(o/t)}function xt(o,t){return o%t}class Yt{static getProps(t,e){let{width:i,height:s}=e.size.toRaw();const r=zt(e.number,t.numCols),a=xt(e.number,t.numCols),u={color:t.color,colors:t.colors,rsc:t.rsc,rscs:t.rscs,size:t.size,depth:t.depth,offset:new W({top:r*s,left:a*i})};return r+1===t.numRows&&(s=t.size.height.value-r*s),a+1===t.numCols&&(i=t.size.width.value-a*i),u.viewSize=new L({width:i,height:s}),u.css={...e.css,position:"absolute",...u.offset.toPx(),zIndex:e.number+1<t.numTiles/2?e.number+1:t.numTiles-e.number},u}}class Xt{static getTilesProps(t){const{rows:e,cols:i,size:s,color:r,colors:a,rsc:u,rscs:l,depth:c}=t,n=V(e),f=V(i),m={numRows:n,numCols:f,numTiles:n*f,size:s,depth:c,color:r,colors:a,rsc:u,rscs:l},v={number:0,size:new L({width:A(s.width.value/f),height:A(s.height.value/n)}),css:t.tileCss},_=[];for(let S=0;S<m.numTiles;S++)v.number=S,_.push(Yt.getProps(m,v));return _}}const Y=x({__name:"FluxGrid",props:{colors:{},rscs:{},rows:{default:1},cols:{default:1},depth:{default:0},tileCss:{},color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({base:{position:"relative"}}),{style:r,setCss:a,show:u,hide:l}=G(i,e,s),c=k(()=>{var m;return e.rscs!==void 0?at:(m=e.rsc)==null?void 0:m.transition.component}),n=k(()=>Xt.getTilesProps(e)),f=g([]);return t({setCss:a,transform:m=>{f.value.forEach((v,_)=>m(v,_))},show:u,hide:l,getRowNumber:zt,getColNumber:xt}),(m,v)=>(d(),D("div",{ref_key:"$el",ref:i,class:"flux-grid",style:M(h(r))},[(d(!0),D(J,null,U(n.value,(_,S)=>(d(),z(E(c.value),K({ref_for:!0,ref:P=>f.value.push(P),key:S},_),null,16))),128))],4))}});class Mt{constructor(t,e,i="fill",s,r,a){p(this,"src"),p(this,"loader",null),p(this,"errorMessage"),p(this,"status",g(j.notLoaded)),p(this,"realSize",new L),p(this,"displaySize",new L),p(this,"caption",""),p(this,"resizeType"),p(this,"display"),p(this,"transition"),p(this,"isLoading",()=>this.status.value===j.loading),p(this,"isLoaded",()=>this.status.value===j.loaded),p(this,"isError",()=>this.status.value===j.error),p(this,"fillProps",k(()=>this.getFillProps(this.displaySize))),p(this,"fitProps",k(()=>this.getFitProps(this.displaySize))),this.src=t,this.caption=e,this.resizeType=i,this.display=s,this.transition=r,this.errorMessage=a}getFillProps(t){if([t.isValid(),this.realSize.isValid()].includes(!1))return{};const e=new pt(this.realSize),{size:i,position:s}=e.resizeTo(t);return{...i.toRaw(),...s.toRaw()}}getFitProps(t){if([t.isValid(),this.realSize.isValid()].includes(!1))return{};const e=new pt(this.realSize),{size:i,position:s}=e.resizeTo(t);return{...i.toRaw(),...s.toRaw()}}getResizeProps(t,e){const i={width:0,height:0,top:0,left:0};return this.displaySize.isValid()||this.displaySize.update(t.toRaw()),t.equals(this.displaySize)?Object.assign(i,this[`${this.resizeType}Props`].value):Object.assign(i,{fill:s=>this.getFillProps(s),fit:s=>this.getFitProps(s)}[this.resizeType](t)),e!==void 0&&(i.top-=e.top.value||0,i.left-=e.left.value||0),i}}var bt=(o=>(o.notLoaded="notLoaded",o.loading="loading",o.loaded="loaded",o.error="error",o))(bt||{});const j=bt;class Oe extends Mt{constructor(t,e="",i="fill"){const s={component:ot,props:{}},r={component:ot,props:{}},a=`Image ${t} could not be loaded`;super(t,e,i,s,r,a)}load(){return this.loader!==null?this.loader:(this.loader=new Promise((t,e)=>{this.status.value=j.loading;const i=new Image;i.onload=()=>this.onLoad(i,t),i.onerror=()=>this.onError(e),i.src=this.src}),this.loader)}onLoad(t,e){this.realSize=new L({width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}),this.status.value=j.loaded,e()}onError(t){this.status.value=j.error,t(this.errorMessage)}}const ot=x({__name:"FluxImage",props:{color:{},rsc:{},size:{},viewSize:{default:()=>new L},offset:{},css:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({base:{overflow:"hidden"},color:k(()=>{const n={};return e.color!==void 0&&(n.backgroundColor=e.color),n}),rsc:k(()=>{const{rsc:n,size:f,offset:m}=e;if(!n)return{};if(n.status.value===j.notLoaded)return n.load(),{};if(!n.isLoaded()||!f.isValid()||!i.value)return{};const{width:v,height:_,top:S,left:P}=n.getResizeProps(f,m);return{backgroundImage:`url(${n.src})`,backgroundSize:`${v}px ${_}px`,backgroundPosition:`${P}px ${S}px`,backgroundRepeat:"no-repeat"}})}),{style:r,setCss:a,transform:u,show:l,hide:c}=G(i,e,s);return t({setCss:a,transform:u,show:l,hide:c}),(n,f)=>(d(),D("div",{ref_key:"$el",ref:i,class:"flux-image",style:M(h(r))},null,4))}}),Fe=x({__name:"FluxParallax",props:{rsc:{},holder:{default:()=>window},type:{default:"relative"},offset:{default:"100%"}},setup(o,{expose:t}){const e=o,i=g(null),{holder:s,rsc:r}=e,a={base:{position:"relative",background:`url("${r.src}") no-repeat`},defined:$({}),final:k(()=>({...a.base,...h(a.defined)}))},u=(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.userAgent==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream,l=$({width:0,height:0,aspectRatio:k(()=>it(l))}),c=$({top:0,width:0,height:0,aspectRatio:k(()=>it(c))}),n=$({top:0,left:0,width:0,height:0}),f={position:"absolute",top:0,left:0,bottom:0,right:0,clip:"rect(auto auto auto auto)"},m=k(()=>({position:"absolute",top:0,bottom:0,left:0,right:0,background:`url("${r.src}") no-repeat center center fixed`,backgroundSize:`${n.width}px ${n.height}px`})),v=k(()=>{const{offset:y}=e,w=parseFloat(y);return/^[0-9]+px$/.test(y)?{px:w,pct:w*100/n.height}:/^[0-9]+%$/.test(y)?{px:V(c.height*w/100),pct:w}:{px:0,pct:0}}),_=k(()=>{const y=u?l.height:c.height+v.value.px;return n.height-y});rt(()=>{window.addEventListener("resize",S,{passive:!0}),(e.type!=="fixed"||u)&&s.addEventListener("scroll",T,{passive:!0}),r.load().then(()=>{S()})}),nt(()=>{window.removeEventListener("resize",S),s.removeEventListener("scroll",T)});const S=()=>{l.width=s.scrollWidth||s.innerWidth,l.height=s.scrollHeight||s.innerHeight,c.width=i.value.clientWidth,c.height=i.value.clientHeight,c.top=i.value.getBoundingClientRect().top+window.scrollY,r.displaySize.update(l);const y=r.fillProps.value;n.width=y.width,n.height=y.height,a.defined.backgroundSize=`${n.width}px ${n.height}px`,a.defined.backgroundPosition="center 0",T()},P=y=>{_.value>0&&(y=y*v.value.pct/100+50-v.value.pct/2),a.defined.backgroundPositionY=y.toFixed(2)+"%"},T=()=>{if(!r.isLoaded()||!u&&e.type==="fixed")return;const y=s.scrollY||s.scrollTop||0;if(s!==window)return O.relative(y);if(y+l.height<c.top||y>c.top+c.height)return;let w=y-c.top+l.height;O[e.type](w)},O={visible:y=>{let w=0;y<c.height?w=0:y>l.height?w=100:w=(y-c.height)*100/(l.height-c.height),P(w)},relative:y=>{let w;s===window?w=y*100/(l.height+c.height):w=y*100/(l.height-s.clientHeight),P(w)},fixed:y=>{a.defined.backgroundPositionY=y-l.height+"px"}};return t({resize:S}),(y,w)=>(d(),D("div",{ref_key:"$el",ref:i,class:"flux-parallax",style:M(a.final.value)},[e.type==="fixed"&&!h(u)?(d(),D("div",{key:0,style:f},[C("div",{class:"image",style:M(m.value)},null,4)])):F("",!0),X(y.$slots,"default")],4))}}),At=x({__name:"FluxTransition",props:{size:{},transition:{},from:{},to:{},displayComponent:{},options:{default:()=>({})}},emits:["ready","start","end"],setup(o,{expose:t,emit:e}){const i=o,s=g(null),r=g(null),a=e,u=$({base:{overflow:"hidden",perspective:"none",zIndex:3}}),l=k(()=>{const{width:m,height:v}=i.size.toPx();return{...u.base,width:m,height:v}});rt(async()=>{a("ready",{transition:i.transition,from:i.from,to:i.to,options:i.options})});function c(){return r.value!==null?r.value.totalDuration:1}async function n(){a("start",{transition:i.transition,from:i.from,to:i.to,options:i.options}),await et(),r.value===null?console.error("Transition component available",i.transition):r.value.onPlay(),setTimeout(()=>f(),c())}function f(){a("end",{transition:i.transition,from:i.from,to:i.to,options:i.options})}return nt(()=>{[null,void 0].includes(i.displayComponent)===!1&&i.displayComponent.show()}),t({start:n,end:f}),(m,v)=>(d(),D("div",{ref_key:"$el",ref:s,class:"flux-transition",style:M(l.value)},[(d(),z(E(m.transition),{ref_key:"$transition",ref:r,size:m.size,from:m.from,to:m.to,"display-component":m.displayComponent,options:m.options,"mask-style":u.base},null,8,["size","from","to","display-component","options","mask-style"]))],4))}}),kt=x({__name:"FluxVortex",props:{rsc:{},circles:{default:1},tileCss:{},color:{},size:{},viewSize:{},offset:{},css:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({base:{position:"relative",overflow:"hidden"}}),{style:r,setCss:a,show:u,hide:l}=G(i,e,s),c=k(()=>Et(e.circles)),n=k(()=>wt(e.size.toRaw())),f=k(()=>V(n.value/2/c.value)),m=k(()=>V(e.size.height.value/2-f.value*c.value)),v=k(()=>V(e.size.width.value/2-f.value*c.value)),_=k(()=>{const P=[];for(let T=0;T<c.value;T++){const O=(c.value-T)*f.value*2,y=f.value*T,w={offset:new W({top:m.value+y,left:v.value+y})};w.css={...e.tileCss,position:"absolute",...w.offset.toPx(),width:O+"px",height:O+"px",backgroundRepeat:"repeat",borderRadius:"50%",zIndex:T},P.push(w)}return P}),S=g([]);return t({setCss:a,transform:P=>{S.value.forEach((T,O)=>P(T,O))},show:u,hide:l}),(P,T)=>(d(),D("div",{ref_key:"$el",ref:i,class:"flux-vortex",style:M(h(r))},[(d(!0),D(J,null,U(_.value,(O,y)=>(d(),z(E(P.rsc.transition.component),{ref_for:!0,ref:w=>{w&&(S.value[y]=w)},key:y,size:P.size,rsc:P.rsc,offset:O.offset,css:O.css},null,8,["size","rsc","offset","css"]))),128))],4))}}),ut=x({__name:"FluxWrapper",props:{color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({base:{overflow:"hidden"}}),{style:r,setCss:a,transform:u,show:l,hide:c}=G(i,e,s);return t({setCss:a,transform:u,show:l,hide:c}),(n,f)=>(d(),D("div",{ref_key:"$el",ref:i,class:"flux-wrapper",style:M(h(r))},[X(n.$slots,"default")],4))}});var b=(o=>(o.prev="prev",o.next="next",o))(b||{}),I=(o=>(o.stopped="stopped",o.playing="playing",o))(I||{});class jt{constructor(){p(this,"current",null),p(this,"from",null),p(this,"to",null)}reset(){this.current=null,this.from=null,this.to=null}init(t){this.current=t.getFirst()}}class Wt{constructor(){p(this,"current",null),p(this,"last",null)}reset(){this.current=null,this.last=null}init(t){this.last=t.getLast()}}class Kt{constructor(t,e,i){p(this,"resource"),p(this,"transition"),p(this,"status",g(I.stopped)),p(this,"config"),p(this,"timers"),p(this,"emit"),p(this,"transitions",null),p(this,"resources",null),p(this,"$displayComponent",g(null)),this.config=t,this.timers=e,this.emit=i,this.resource=tt(new jt),this.transition=tt(new Wt)}setup(t,e,i){this.transitions=e,this.resources=t,this.$displayComponent=i}play(t=b.next,e){var i,s;const{config:r,timers:a,resource:u}=this;if(this.status.value=I.playing,this.transition.current!==null)return;const l=(s=this.resources)==null?void 0:s.find(t,(i=u.current)==null?void 0:i.index);a.set("transition",e||(l==null?void 0:l.options.delay)||r.delay,()=>{this.show(t)}),this.emit("play",t,e)}async stop(t=!1){const{timers:e}=this;this.status.value=I.stopped,e.clear("transition"),this.transition.current!==null&&t===!0&&await this.end(t),this.emit("stop")}isReadyToShow(){if(this.resource.current===null)throw new ReferenceError("Current resource not set");if(this.resources===null)throw new ReferenceError("Resources list not set");if(this.resources.list.length===0)throw new RangeError("Resources list empty");if(this.transition.last===null)throw new ReferenceError("Last transition not set");if(this.transitions===null)throw new ReferenceError("Transitions list not set");if(this.transitions.list.length===0)throw new RangeError("Transitions list empty");if(this.$displayComponent.value===null)throw new ReferenceError("Display component not set");return!0}async show(t=b.next,e=b.next){if(!this.isReadyToShow())return;const{resource:i,resources:s,config:r,transitions:a}=this;if(this.transition.current!==null){r.allowToSkipTransition&&(await this.end(!0),this.show(t,e));return}const u=s.find(t,i.current.index);if(i.current.index===u.index)return;this.timers.clear("transition"),this.resource.from=i.current,this.resource.to=u;const l=typeof e=="number"?a.getByIndex(e):a.getByOrder(e,this.transition.last.index);l.options.direction===void 0&&(typeof t!="number"?l.options.direction=t:l.options.direction=this.resource.from.index<this.resource.to.index?b.next:b.prev),this.transition.current=l,this.emit("show",this.resource,this.transition)}start(){this.resource.current=this.resource.to,this.emit("transitionStart",this.resource,this.transition)}async end(t=!1){const{config:e,resource:i,resources:s,timers:r,transition:a}=this;if(!(i.current===null||s===null)){if(a.last=a.current,a.current=null,await et(),this.emit(t?"transitionCancel":"transitionEnd",this.resource,this.transition),e.infinite===!1&&i.current.index>=s.list.length-1&&this.status.value===I.playing){this.stop();return}if(i.current.options.stop===!0){this.stop();return}this.status.value===I.playing&&t===!1&&r.set("transition",i.current.options.delay||e.delay,()=>{this.show()})}}}class ct{constructor(t,e=null,i=null){p(this,"node"),p(this,"config"),p(this,"emit",null),p(this,"size",new L),p(this,"inFullScreen",()=>!!document.fullscreenElement),this.node=t,this.config=e,this.emit=i}static async getSize(t){const e=new ct(t);return await e.updateSize(),e.size}addResizeListener(){window.addEventListener("resize",()=>this.updateSize(),{passive:!0})}removeResizeListener(){window.removeEventListener("resize",this.updateSize)}getAspectRatio(){if(this.config!==null){const[t,e]=this.config.aspectRatio.split(":");return[parseFloat(t),parseFloat(e)]}return[16,9]}async updateSize(){if(this.size.reset(),await et(),this.node.value===null)return;const t=getComputedStyle(this.node.value);let e=parseFloat(t.width),i=parseFloat(t.height);if(["0px","auto",null].includes(t.height)){const[s,r]=this.getAspectRatio();i=e/s*r}this.size.update({width:e,height:i})}toggleFullScreen(){this.inFullScreen()?this.exitFullScreen():this.enterFullScreen()}async enterFullScreen(){var t,e;((t=this.node)==null?void 0:t.value)===null||!((e=this.config)!=null&&e.allowFullscreen)||(await this.node.value.requestFullscreen(),this.emit!==null&&this.emit("fullscreenEnter"))}async exitFullScreen(){await document.exitFullscreen(),this.emit!==null&&this.emit("fullscreenExit")}}class Ht{constructor(t,e){p(this,"config"),p(this,"player"),this.config=t,this.player=e}setup(){this.removeKeyListener(),this.config.bindKeys&&this.addKeyListener()}addKeyListener(){window.addEventListener("keydown",t=>this.keydown(t),{passive:!0})}removeKeyListener(){window.removeEventListener("keydown",()=>this.keydown)}keydown(t){if(["ArrowLeft","Left"].includes(t.key)){this.player.show(b.prev);return}if(["ArrowRight","Right"].includes(t.key)){this.player.show(b.next);return}}}class qt{constructor(){p(this,"isOver",g(!1))}setup(t,e){e.clear("mouseOver"),t.autohideTime===0&&(this.isOver.value=!0)}toggle(t,e,i){t.autohideTime!==0&&(this.isOver.value=i,this[i?"over":"out"](t,e))}out(t,e){e.clear("mouseOver")}over(t,e){e.set("mouseOver",t.autohideTime,()=>this.isOver.value=!1)}}class Jt{constructor(){p(this,"timers",{})}set(t,e,i){this.clear(t),this.timers[t]=setTimeout(i,e)}clear(t){(t!==void 0?[t]:Object.keys(this.timers)).forEach(e=>{clearTimeout(this.timers[e]),delete this.timers[e]})}}const mt=Math.abs;class Ut{constructor(){p(this,"startX",0),p(this,"startY",0),p(this,"startTime",0),p(this,"endTime",0),p(this,"prevTouchTime",0),p(this,"tapThreshold",5),p(this,"doubleTapThreshold",200),p(this,"slideTrigger",.3),p(this,"tap",(t,e)=>mt(t)<this.tapThreshold&&mt(e)<this.tapThreshold),p(this,"doubleTap",()=>this.endTime-this.prevTouchTime<this.doubleTapThreshold),p(this,"slideLeft",(t,e)=>e.size.isValid()&&t<0&&t<-(e.size.width.value*this.slideTrigger)),p(this,"slideRight",(t,e)=>e.size.isValid()&&t>0&&t>e.size.width.value*this.slideTrigger),p(this,"slideUp",(t,e)=>e.size.isValid()&&t<0&&t<-(e.size.height.value*this.slideTrigger)),p(this,"slideDown",(t,e)=>e.size.isValid()&&t>0&&t>e.size.height.value*this.slideTrigger)}start(t,e){e.enableGestures&&(this.startTime=Date.now(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY)}end(t,e,i,s,r,a){this.prevTouchTime=this.endTime,this.endTime=Date.now();const u=t.changedTouches[0].clientX-this.startX,l=t.changedTouches[0].clientY-this.startY;if(this.tap(u,l)){a.toggle(e,r,!0);return}e.enableGestures&&(this.slideRight(u,s)?i.show(b.prev):this.slideLeft(u,s)&&i.show(b.next))}}class Zt{constructor(t){p(this,"list",tt([])),p(this,"loader",g(null)),p(this,"emit"),this.emit=t}getPrev(t){return this.getByIndex(t>0?t-1:this.list.length-1)}getNext(t){return this.getByIndex(t===this.list.length-1?0:t+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(b.prev,0)}getByIndex(t){if(this.list[t]===void 0)throw new ReferenceError(`Resource index ${t} not found`);return{index:t,rsc:this.list[t].resource,options:JSON.parse(JSON.stringify(this.list[t].options))}}getByOrder(t,e){return{prev:()=>this.getPrev(e),next:()=>this.getNext(e)}[t]()}find(t,e){if(typeof t=="number")return this.getByIndex(t);if(e===void 0)throw new ReferenceError("Missing currentIndex parameter");return this.getByOrder(t,e)}update(t,e,i){this.list.splice(0);const s=yt(t).map(r=>{let a=r,u={};return"resource"in r&&(a=r.resource,"options"in r&&(u=r.options)),{resource:a,options:u}});return new Promise(r=>{this.loader.value=new Ot(s,e,i,()=>this.preloadStart(),a=>this.preloadEnd(a,r),()=>this.lazyLoadStart(),a=>this.lazyLoadEnd(a))})}preloadStart(){this.emit("resourcesPreloadStart")}preloadEnd(t,e){t.forEach(i=>this.list.push(i)),this.emit("resourcesPreloadEnd"),e()}lazyLoadStart(){this.emit("resourcesLazyloadStart")}lazyLoadEnd(t){t.forEach(e=>this.list.push(e)),this.emit("resourcesLazyloadEnd")}}class Gt{constructor(){p(this,"list",tt([]))}getPrev(t){return this.getByIndex(t>0?t-1:this.list.length-1)}getNext(t){return this.getByIndex(t===this.list.length-1?0:t+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(b.prev,0)}getByIndex(t){return{index:t,component:this.list[t].component,options:JSON.parse(JSON.stringify(this.list[t].options))}}getByOrder(t,e){return{prev:()=>this.getPrev(e),next:()=>this.getNext(e)}[t]()}update(t){this.list.splice(0),yt(t).forEach(e=>{let i=e,s={};"component"in e&&(i=e.component,"options"in e&&(s=e.options)),this.list.push({component:i,options:s})})}}const Qt={key:2,class:"complements"},te=C("div",{class:"remainder upper"},null,-1),ee=C("div",{class:"remainder lower"},null,-1),Be=x({__name:"VueFlux",props:{options:{},rscs:{},transitions:{}},emits:["created","mounted","unmounted","play","stop","show","optionsUpdated","transitionsUpdated","resourcesPreloadStart","resourcesPreloadEnd","resourcesLazyloadStart","resourcesLazyloadEnd","fullscreenEnter","fullscreenExit","transitionStart","transitionCancel","transitionEnd"],setup(o,{expose:t,emit:e}){const i=o,s=e,r=g(null),a=g(null),u=g(null),l=$({allowFullscreen:!1,allowToSkipTransition:!0,aspectRatio:"16:9",autohideTime:2500,autoplay:!1,bindKeys:!1,delay:5e3,enableGestures:!1,infinite:!0,lazyLoad:!0,lazyLoadAfter:5}),c=new Jt,n=new Kt(l,c,s),f=new Zt(s),m=new Gt,v=new ct(r,l,s),_=new Ht(l,n),S=new qt,P=new Ut,T=()=>{Object.assign(l,i.options),S.setup(l,c),_.setup()};st(()=>i.options,()=>{T(),s("optionsUpdated")},{deep:!0}),st(()=>i.rscs,async()=>{const y=n.status.value===I.playing;y&&await n.stop(!0),n.resource.reset();const w=l.lazyLoad?l.lazyLoadAfter:i.rscs.length;await f.update(i.rscs,w,v.size),n.resource.init(f),y&&n.play()}),st(()=>i.transitions,async()=>{const y=n.status.value===I.playing;y&&await n.stop(!0),n.transition.reset(),m.update(i.transitions),n.transition.init(m),y&&n.play(),s("transitionsUpdated")}),rt(async()=>{T(),await v.updateSize(),v.addResizeListener(),n.setup(f,m,u),m.update(i.transitions),n.transition.init(m),await f.update(i.rscs,l.lazyLoadAfter,v.size),n.resource.init(f),l.autoplay===!0&&n.play(),s("mounted")}),nt(()=>{c.clear(),v.removeResizeListener(),_.removeKeyListener(),s("unmounted")});const O=k(()=>v.size.isValid()?v.inFullScreen()?{width:"100% !important",height:"100% !important"}:v.size.toPx():{});return t({show:n.show.bind(n),play:n.play.bind(n),stop:n.stop.bind(n)}),s("created"),(y,w)=>(d(),D("div",{ref_key:"$container",ref:r,class:"vue-flux",style:M(O.value),onMousemove:w[3]||(w[3]=B=>h(S).toggle(l,h(c),!0)),onMouseleave:w[4]||(w[4]=B=>h(S).toggle(l,h(c),!1)),onDblclick:w[5]||(w[5]=B=>h(v).toggleFullScreen()),onTouchstart:w[6]||(w[6]=B=>h(P).start(B,l)),onTouchend:w[7]||(w[7]=B=>h(P).end(B,l,h(n),h(v),h(c),h(S)))},[h(n).transition.current!==null&&h(v).size.isValid()&&h(n).resource.from!==null&&h(n).resource.to!==null?(d(),z(h(At),{key:0,ref_key:"$transition",ref:a,transition:h(n).transition.current.component,size:h(v).size,from:h(n).resource.from.rsc,to:h(n).resource.to.rsc,"display-component":u.value,options:h(n).transition.current.options,onReady:w[0]||(w[0]=B=>{var ht;return(ht=a.value)==null?void 0:ht.start()}),onStart:w[1]||(w[1]=B=>h(n).start()),onEnd:w[2]||(w[2]=B=>h(n).end())},null,8,["transition","size","from","to","display-component","options"])):F("",!0),h(n).resource.current!==null?(d(),z(E(h(n).resource.current.rsc.display.component),K({key:1,ref_key:"$displayComponent",ref:u,size:h(v).size,rsc:h(n).resource.current.rsc},h(n).resource.current.rsc.display.props),null,16,["size","rsc"])):F("",!0),h(v).size.isValid()?(d(),D("div",Qt,[X(y.$slots,"preloader",{loader:h(f).loader}),X(y.$slots,"caption",{currentResource:h(n).resource.current,currentTransition:h(n).transition.current}),te,X(y.$slots,"controls",{currentResource:h(n).resource.current,mouseOver:h(S).isOver,player:h(n)}),ee,X(y.$slots,"index",{mouseOver:h(S).isOver,displaySize:h(v).size,resources:h(f),player:h(n)}),X(y.$slots,"pagination",{resources:h(f),currentResource:h(n).resource.current,currentTransition:h(n).transition.current,show:B=>h(n).show(B)})])):F("",!0)],36))}}),Ie=x({__name:"FluxCaption",props:{currentResource:{},currentTransition:{}},setup(o){const t=o,e=k(()=>t.currentResource===null||t.currentResource.rsc.caption===null?"&nbsp;":t.currentResource.rsc.caption),i=k(()=>{const s=["flux-caption"];return t.currentTransition===null&&t.currentResource!==null&&t.currentResource.rsc.caption!==null&&s.push("visible"),s});return(s,r)=>(d(),D("div",{class:Q(i.value)},vt(e.value),3))}}),se=C("polyline",{points:"64,18 22,50 64,82"},null,-1),ie=x({__name:"Prev",setup(o){return(t,e)=>(d(),z(h(Z),{class:"prev top left"},{default:N(()=>[se]),_:1}))}}),oe=C("polygon",{points:"32,12 82,50 32,88"},null,-1),re=x({__name:"Play",setup(o){return(t,e)=>(d(),z(h(Z),{class:"play"},{default:N(()=>[oe]),_:1}))}}),ne=C("line",{x1:"32",y1:"22",x2:"32",y2:"78"},null,-1),le=C("line",{x1:"68",y1:"22",x2:"68",y2:"78"},null,-1),ae=x({__name:"Stop",setup(o){return(t,e)=>(d(),z(h(Z),{class:"pause"},{default:N(()=>[ne,le]),_:1}))}}),ue=C("polyline",{points:"36,18 78,50 36,82"},null,-1),ce=x({__name:"Next",setup(o){return(t,e)=>(d(),z(h(Z),{class:"next top right"},{default:N(()=>[ue]),_:1}))}}),he={key:0,class:"flux-controls"},Ve=x({__name:"FluxControls",props:{currentResource:{},mouseOver:{},player:{}},setup(o){const t=o,e=k(()=>!(t.currentResource===null||t.mouseOver.value===!1));return(i,s)=>(d(),z(gt,{name:"fade"},{default:N(()=>[e.value?(d(),D("div",he,[H(ie,{onClick:s[0]||(s[0]=r=>i.player.show(h(b).prev))}),i.player.status.value===h(I).stopped?(d(),z(re,{key:0,onClick:s[1]||(s[1]=r=>i.player.play(h(b).next,1))})):F("",!0),i.player.status.value===h(I).playing?(d(),z(ae,{key:1,onClick:s[2]||(s[2]=r=>i.player.stop())})):F("",!0),H(ce,{onClick:s[3]||(s[3]=r=>i.player.show(h(b).next))})])):F("",!0)]),_:1}))}}),pe=C("rect",{x:"17.5",y:"17.5",width:"12px",height:"12px"},null,-1),de=C("rect",{x:"17.5",y:"43",width:"12px",height:"12px"},null,-1),fe=C("rect",{x:"17.5",y:"68.5",width:"12px",height:"12px"},null,-1),me=C("rect",{x:"43",y:"17.5",width:"12px",height:"12px"},null,-1),ve=C("rect",{x:"43",y:"43",width:"12px",height:"12px"},null,-1),ge=C("rect",{x:"43",y:"68.5",width:"12px",height:"12px"},null,-1),ye=C("rect",{x:"68.5",y:"17.5",width:"12px",height:"12px"},null,-1),we=C("rect",{x:"68.5",y:"43",width:"12px",height:"12px"},null,-1),ze=C("rect",{x:"68.5",y:"68.5",width:"12px",height:"12px"},null,-1),xe=x({__name:"Button",props:{mouseOver:{}},setup(o){const t=o,e=k(()=>t.mouseOver.value===!0);return(i,s)=>(d(),z(gt,{name:"fade"},{default:N(()=>[e.value?(d(),z(h(Z),{key:0,class:"toggle bottom left"},{default:N(()=>[pe,de,fe,me,ve,ge,ye,we,ze]),_:1})):F("",!0)]),_:1}))}}),be=x({__name:"Thumb",props:{rsc:{},size:{}},setup(o){return(t,e)=>(d(),D("li",null,[(d(),z(E(t.rsc.transition.component),{rsc:t.rsc,size:t.size.value,title:t.rsc.caption},null,8,["rsc","size","title"]))]))}});function ke(o,t){const e=k(()=>{let{width:s,height:r}=o.toRaw();return s=s/4.2,r=s*90/160,s>160&&(s=160,r=90),new L({width:s,height:r})});function i(s){const{current:r}=t.resource;return r===null||r.index!==s?"":"current"}return{size:e,getClass:i}}const Se=500,$e=x({__name:"List",props:{displaySize:{},resources:{},player:{}},setup(o,{expose:t}){const e=o,i=g(null),s=g(!1),r=k(()=>{const c=[];return s.value&&c.push("visible"),c});async function a(){i.value!==null&&(e.player.stop(),s.value=!0,await et(),i.value.clientHeight,i.value.style.marginTop="0")}function u(c){var n;i.value!==null&&((n=e.player.resource.current)==null?void 0:n.index)!==c&&(i.value.clientHeight,i.value.style.marginTop="100%",setTimeout(()=>{s.value=!1,c!==null&&e.player.show(c)},Se))}const l=ke(e.displaySize,e.player);return t({show:a}),(c,n)=>(d(),D("nav",{class:Q(r.value),onClick:n[0]||(n[0]=f=>u(null))},[C("ul",{ref_key:"$list",ref:i},[(d(!0),D(J,null,U(c.resources.list,(f,m)=>(d(),z(be,{key:m,rsc:f.resource,size:h(l).size,class:Q(h(l).getClass(m)),onClick:v=>u(m)},null,8,["rsc","size","class","onClick"]))),128))],512)],2))}}),De={key:0,class:"flux-index"},Ne=x({__name:"FluxIndex",props:{mouseOver:{},displaySize:{},resources:{},player:{}},setup(o){const t=o,e=g(null),i=k(()=>t.resources.list.length>0);return(s,r)=>i.value?(d(),D("div",De,[H(xe,{"mouse-over":s.mouseOver,onClick:r[0]||(r[0]=a=>{var u;return(u=e.value)==null?void 0:u.show()})},null,8,["mouse-over"]),H($e,{ref_key:"$fluxIndexList",ref:e,"display-size":s.displaySize,resources:s.resources,player:s.player},null,8,["display-size","resources","player"])])):F("",!0)}}),_e={key:0,class:"flux-pagination"},Ce=["title","onClick"],Ye=x({__name:"FluxPagination",props:{resources:{},currentResource:{},currentTransition:{},show:{type:Function}},setup(o){const t=o,e=k(()=>t.resources.list.length>0),i=r=>r.resource.caption,s=r=>{var a;const u=["pagination-item"];let l=((a=t.currentResource)==null?void 0:a.index)===r;return t.currentTransition!==null&&(l=!1),l===!0&&u.push("active"),u};return(r,a)=>e.value?(d(),D("nav",_e,[C("ul",null,[(d(!0),D(J,null,U(r.resources.list,(u,l)=>(d(),D("li",{key:l},[C("span",{title:i(u),class:Q(s(l)),onClick:c=>r.show(l)},null,10,Ce)]))),128))])])):F("",!0)}}),Re={class:"preloader"},Pe={key:0,class:"spinner"},Le={class:"pct"},Te=C("div",{class:"border"},null,-1),Xe=x({__name:"FluxPreloader",props:{loader:{}},setup(o){return(t,e)=>(d(),D("div",Re,[X(t.$slots,"spinner",{},()=>{var i,s;return[(i=t.loader.value)!=null&&i.preLoading.length?(d(),D("div",Pe,[C("div",Le,vt((s=t.loader.value)==null?void 0:s.progress)+"%",1),Te])):F("",!0)]})]))}});function R(o,t){Object.assign(o,{direction:b.next},t)}const Me=x({__name:"Fade",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({totalDuration:1200,easing:"ease-in"});R(s,e.options);const r={zIndex:1};return t({onPlay:()=>{i.value!==null&&i.value.transform({transition:`opacity ${s.totalDuration}ms ${s.easing}`,opacity:0})},totalDuration:s.totalDuration}),(a,u)=>(d(),z(E(a.from.transition.component),{ref_key:"$from",ref:i,rsc:a.from,size:a.size,css:r},null,8,["rsc","size"]))}}),Ae=x({__name:"Kenburn",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({totalDuration:1500,easing:"linear"});R(s,e.options);const r=[{scale:"1.7",translateX:"-35%",translateY:"-35%",originX:"top",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"-35%",originX:"top",originY:"right"},{scale:"1.7",translateX:"-35%",translateY:"35%",originX:"bottom",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"35%",originX:"bottom",originY:"right"}],a=A(Math.random()*4),u=r[a],l={transformOrigin:u.originX+" "+u.originY};return t({onPlay:()=>{i.value!==null&&i.value.transform({transition:`all ${s.totalDuration}ms ${s.easing}`,transform:`scale(${u.scale}) translate(${u.translateX}, ${u.translateY})`,opacity:0})},totalDuration:s.totalDuration}),(c,n)=>(d(),z(E(c.from.transition.component),{ref_key:"$from",ref:i,rsc:c.from,size:c.size,css:l},null,8,["rsc","size"]))}}),je=x({__name:"Swipe",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=g(null),r=$({totalDuration:1400,easing:"ease-in-out"});R(r,e.options);const a={position:"absolute",top:0,display:"flex",flexWrap:"nowrap"},u={flex:"0 0 auto"};return{[b.prev]:()=>{Object.assign(a,{right:0,justifyContent:"flex-end"})},[b.next]:()=>{Object.assign(a,{left:0,justifyContent:"flex-start"})}}[r.direction](),t({onPlay:()=>{i.value!==null&&i.value.transform({transition:`width ${r.totalDuration}ms ${r.easing}`,width:0})},totalDuration:r.totalDuration}),(l,c)=>(d(),z(h(ut),{ref_key:"$wrapper",ref:i,size:l.size,css:a},{default:N(()=>[(d(),z(E(l.from.transition.component),{ref_key:"$from",ref:s,rsc:l.from,size:l.size,css:u},null,8,["rsc","size"]))]),_:1},8,["size"]))}}),We=x({__name:"Slide",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=g(null),r=g(null),a=$({totalDuration:1400,easing:"ease-in-out"});R(a,e.options);const u=`transform ${a.totalDuration}ms ${a.easing}`,l={size:new L({width:e.size.width.value*2,height:e.size.height.value}),css:{display:"flex",flexWrap:"nowrap"}};let c,n;({[b.prev]:()=>{c=e.to,n=e.from,l.css.transform="translateX(-50%)"},[b.next]:()=>{c=e.from,n=e.to}})[a.direction]();const f={[b.prev]:()=>{i.value.transform({transition:u,transform:"translateX(0)"})},[b.next]:()=>{i.value.transform({transition:u,transform:"translateX(-50%)"})}};return t({onPlay:()=>{i.value!==null&&f[a.direction]()},totalDuration:a.totalDuration}),(m,v)=>(d(),z(h(ut),K({ref_key:"$wrapper",ref:i},l),{default:N(()=>[(d(),z(E(h(c).transition.component),{ref_key:"$left",ref:s,rsc:h(c),size:m.size},null,8,["rsc","size"])),(d(),z(E(h(n).transition.component),{ref_key:"$right",ref:r,rsc:h(n),size:m.size},null,8,["rsc","size"]))]),_:1},16))}}),Ke=x({__name:"Waterfall",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:1,cols:10,tileDuration:600,tileDelay:90,easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"});R(s,e.options);const r=s.tileDelay*s.cols+s.tileDuration,a={[b.prev]:u=>(s.cols-u-1)*s.tileDelay,[b.next]:u=>u*s.tileDelay};return t({onPlay:()=>{i.value!==null&&i.value.transform((u,l)=>{const c=`all ${s.tileDuration}ms ${s.easing} ${a[s.direction](l)}ms`;u.transform({transition:c,opacity:"0.1",transform:"translateY(100%)"})})},totalDuration:r}),(u,l)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:u.size,rsc:u.from},null,8,["rows","cols","size","rsc"]))}}),He=x({__name:"Zip",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:1,cols:10,tileDuration:600,easing:"ease-in",tileDelay:80});R(s,e.options);const r=s.tileDelay*s.cols+s.tileDuration,a={[b.prev]:u=>(s.cols-u-1)*s.tileDelay,[b.next]:u=>u*s.tileDelay};return t({onPlay:()=>{i.value!==null&&i.value.transform((u,l)=>{const c=`all ${s.tileDuration}ms ${s.easing} ${a[s.direction](l)}ms`;u.transform({transition:c,opacity:"0.1",transform:`translateY(${l%2?"-":""}100%)`})})},totalDuration:r}),(u,l)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:u.size,rsc:u.from},null,8,["rows","cols","size","rsc"]))}}),qe=x({__name:"Blinds2D",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:1,cols:10,tileDuration:800,easing:"linear",tileDelay:100});R(s,e.options);const r={[lt.front]:e.from},a=s.tileDelay*s.cols+s.tileDuration,u={prev:l=>(s.cols-l-1)*s.tileDelay,next:l=>l*s.tileDelay};return t({onPlay:()=>{i.value!==null&&i.value.transform((l,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${u[s.direction](c)}ms`;l.transform({transition:n,opacity:"0.1",transform:"scaleX(0)"})})},totalDuration:a}),(l,c)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:l.size,rscs:r},null,8,["rows","cols","size"]))}}),Je=x({__name:"Blocks1",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){var e;const i=o,s=g(null),r=$({rows:8,cols:8,tileDuration:300,easing:"linear",tileDelay:1e3});if(R(r,i.options),!((e=i.options)!=null&&e.rows)){const l=i.size.width.value/r.cols;r.rows=A(i.size.height.value/l)}const a=r.tileDelay+r.tileDuration,u=()=>A(Math.random()*r.tileDelay);return t({onPlay:()=>{s.value!==null&&s.value.transform(l=>{const c=`all ${r.tileDuration}ms ${r.easing} ${u()}ms`;l.transform({transition:c,opacity:"0",transform:"scale(0.3, 0.3)"})})},totalDuration:a}),(l,c)=>(d(),z(h(Y),{ref_key:"$grid",ref:s,rows:r.rows,cols:r.cols,size:l.size,rsc:l.from},null,8,["rows","cols","size","rsc"]))}}),Ue=x({__name:"Blocks2",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){var e;const i=o,s=g(null),r=g(null),a=$({rows:8,cols:8,tileDuration:800,tileDelay:80,easing:"ease"});R(a,i.options);const u=a.tileDelay*(a.rows+a.cols)+a.tileDuration;if(!((e=i.options)!=null&&e.rows)){const v=i.size.width.value/a.cols;a.rows=Math.floor(i.size.height.value/v)}const l={rsc:null,css:{position:"absolute",top:0,left:0,zIndex:1}},c=JSON.parse(JSON.stringify(l));c.css.zIndex=2;let n={};({prev:()=>{c.rsc=i.to,l.rsc=i.from,n={opacity:0,transform:"scale(0.3)"}},next:()=>{c.rsc=i.from}})[a.direction]();const f=v=>{const _=s.value.getRowNumber(v,a.cols);let S=s.value.getColNumber(v,a.cols)+_;return a.direction===b.prev&&(S=a.rows+a.cols-S-1),S*a.tileDelay},m={prev:()=>{s.value.transform((v,_)=>{v.transform({transition:`all ${a.tileDuration}ms ${a.easing} ${f(_)}ms`,opacity:1,transform:"scale(1)"})})},next:()=>{s.value.transform((v,_)=>{v.transform({transition:`all ${a.tileDuration}ms ${a.easing} ${f(_)}ms`,opacity:0,transform:"scale(0.3)"})})}};return t({onPlay:()=>{s.value!==null&&m[a.direction]()},totalDuration:u}),(v,_)=>(d(),D("div",null,[H(h(Y),K({ref_key:"$grid",ref:s,rows:a.rows,cols:a.cols,size:v.size,"tile-css":h(n)},h(c)),null,16,["rows","cols","size","tile-css"]),l.rsc!==null?(d(),z(E(l.rsc.transition.component),K({key:0,ref_key:"$background",ref:r,size:v.size},l),null,16,["size"])):F("",!0)]))}}),Ze=x({__name:"Concentric",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({circles:7,tileDuration:800,easing:"linear",tileDelay:150});R(s,e.options);const r=s.tileDelay*s.circles+s.tileDuration,a=u=>u*s.tileDelay;return t({onPlay:()=>{if(i.value===null)return;const u={prev:"-90",next:"90"};i.value.transform((l,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${a(c)}ms`;l.transform({transition:n,opacity:"0",transform:`rotateZ(${u[s.direction]}deg)`})})},totalDuration:r}),(u,l)=>(d(),z(h(kt),{ref_key:"$vortex",ref:i,size:u.size,circles:s.circles,rsc:u.from},null,8,["size","circles","rsc"]))}}),Ge=x({__name:"Warp",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({circles:7,tileDuration:800,easing:"linear",tileDelay:150});R(s,e.options);const r=s.tileDelay*s.circles+s.tileDuration,a={[b.prev]:l=>(s.circles-l-1)*s.tileDelay,[b.next]:l=>l*s.tileDelay},u=l=>l%2===0?"-90":"90";return t({onPlay:()=>{i.value!==null&&i.value.transform((l,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${a[s.direction](c)}ms`;l.transform({transition:n,opacity:"0",transform:`rotateZ(${u(c)}deg)`})})},totalDuration:r}),(l,c)=>(d(),z(h(kt),{ref_key:"$vortex",ref:i,size:l.size,circles:s.circles,rsc:l.from},null,8,["size","circles","rsc"]))}}),Qe=x({__name:"Camera",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=g(null),r=$({circles:2,totalDuration:900,easing:"cubic-bezier(0.385, 0, 0.795, 0.560)",backgroundColor:"#111"});R(r,e.options);const a={alignSelf:"center",flex:"none"},u=wt(e.size.toRaw()),l=new L({width:u,height:u}),c={boxSizing:"border-box",position:"absolute",display:"flex",justifyContent:"center",overflow:"hidden",borderRadius:"50%",border:"0 solid "+r.backgroundColor,top:(e.size.height.value-u)/2+"px",left:(e.size.width.value-u)/2+"px"};return t({onPlay:()=>{[i.value,s.value].includes(null)||(i.value.transform({transition:`all ${r.totalDuration/2-50}ms ${r.easing} 0ms`,borderWidth:u/2+"px"}),setTimeout(()=>{s.value.hide(),i.value.transform({transition:`all ${r.totalDuration/2-50}ms ${r.easing} 0ms`,borderWidth:0})},r.totalDuration/2+50))},totalDuration:r.totalDuration}),(n,f)=>(d(),z(h(ut),{ref_key:"$wrapper",ref:i,size:h(l),css:c},{default:N(()=>[(d(),z(E(n.from.transition.component),{ref_key:"$from",ref:s,size:n.size,rsc:n.from,css:a},null,8,["size","rsc"]))]),_:1},8,["size"]))}}),ts=x({__name:"Cube",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({totalDuration:1400,easing:"ease-out"});R(s,e.options),Object.assign(e.maskStyle,{perspective:"1600px",overflow:"visible"});const r={front:e.from,left:e.to,right:e.to},a={transition:`all ${s.totalDuration}ms ${s.easing}`};return t({onPlay:()=>{if(i.value===null)return;e.displayComponent.value!==null&&e.displayComponent.hide();const u={next:q.left,prev:q.right};i.value.turn(u[s.direction])},totalDuration:s.totalDuration}),(u,l)=>(d(),z(h(at),{ref_key:"$cube",ref:i,rscs:r,size:u.size,depth:u.size.width.value,css:a},null,8,["size","depth"]))}}),es=x({__name:"Book",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=g(null),r=$({totalDuration:1200,easing:"ease-out"});R(r,e.options);const a=new L({width:V(e.size.width.value/2),height:e.size.height.value}),u={perspective:"1600px",width:"100%",height:"100%"},l=new W({top:0,left:0}),c={position:"absolute",top:0,left:0},n={rscs:{front:e.from,back:e.to},offsets:{front:new W({top:0,left:0}),back:new W({top:0,left:0})},origin:void 0,css:{position:"absolute",top:0,left:0}},f=V(e.size.width.value/2),m=f.toString()+"px";e.maskStyle.overflow="visible",{prev:()=>{l.left.value=f,c.left=m,n.offsets.back.left.value=f,n.origin="right center",n.css={...n.css}},next:()=>{n.offsets.front.left.value=f,n.origin="left center",n.css={...n.css,left:m}}}[r.direction]();const v={prev:"180",next:"-180"}[r.direction];return t({onPlay:()=>{[i.value,s.value].includes(null)||s.value.transform({transition:`transform ${r.totalDuration}ms ${r.easing}`,transform:`rotateY(${v}deg)`})},totalDuration:r.totalDuration}),(_,S)=>(d(),D("div",{style:u},[(d(),z(E(_.from.transition.component),{ref_key:"$from",ref:i,rsc:_.from,size:_.size,"view-size":h(a),offset:h(l),css:c},null,8,["rsc","size","view-size","offset"])),H(h(at),{ref_key:"$cube",ref:s,rscs:n.rscs,size:_.size,"view-size":h(a),offsets:n.offsets,origin:n.origin,css:n.css},null,8,["rscs","size","view-size","offsets","origin","css"])]))}}),ss=x({__name:"Fall",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({totalDuration:1600,easing:"ease-in"});R(s,e.options),Object.assign(e.maskStyle,{perspective:"1600px",overflow:"visible"});const r={transformOrigin:"center bottom"};return t({onPlay:()=>{i.value!==null&&i.value.transform({transition:`transform ${s.totalDuration}ms ${s.easing}`,transform:"rotateX(-83.6deg)"})},totalDuration:s.totalDuration}),(a,u)=>(d(),z(E(a.from.transition.component),{ref_key:"$from",ref:i,rsc:a.from,size:a.size,style:r},null,8,["rsc","size"]))}}),is=x({__name:"Wave",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:1,cols:8,tileDuration:900,tileDelay:110,easing:"cubic-bezier(0.3, -0.3, 0.735, 0.285)",sideColor:"#333"});R(s,e.options),e.maskStyle.overflow="visible";const r={front:e.from,top:e.to},a={left:s.sideColor,right:s.sideColor},u={overflow:"visible",perspective:"1200px"},l=s.tileDelay*s.cols+s.tileDuration,c={[b.prev]:n=>(s.cols-n-1)*s.tileDelay,[b.next]:n=>n*s.tileDelay};return t({onPlay:()=>{i.value!==null&&(e.displayComponent&&e.displayComponent.hide(),i.value.transform((n,f)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${c[s.direction](f)}ms`;n.setCss({transition:m}),n.turn(q.bottom)}))},totalDuration:l}),(n,f)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:n.size,rscs:r,colors:a,depth:n.size.height.value,css:u},null,8,["rows","cols","size","depth"]))}}),os=x({__name:"Blinds3D",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:1,cols:6,tileDuration:800,easing:"ease-out",tileDelay:150});R(s,e.options);const r={perspective:"800px"},a={front:e.from,back:e.to},u=s.tileDelay*s.cols+s.tileDuration;e.maskStyle.overflow="visible";const l={prev:c=>(s.cols-c-1)*s.tileDelay,next:c=>c*s.tileDelay};return t({onPlay:()=>{if(i.value===null)return;e.displayComponent&&e.displayComponent.hide();const c={prev:"backl",next:"backr"};i.value.transform((n,f)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${l[s.direction](f)}ms`;n.setCss({transition:m}),n.turn(c[s.direction])})},totalDuration:u}),(c,n)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:c.size,rscs:a,css:r},null,8,["rows","cols","size"]))}}),rs=x({__name:"Round1",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:null,cols:8,tileDuration:800,easing:"ease-out",tileDelay:150});R(s,e.options);const r={front:e.from,back:e.to},a={perspective:"800px"};if(e.maskStyle.overflow="visible",s.rows===null){const n=e.size.width.value/s.cols;s.rows=A(e.size.height.value/n)}const u=s.rows>s.cols?s.rows:s.cols,l=s.tileDelay*u*2,c=n=>{const f=i.value.getRowNumber(n,s.cols);let m=i.value.getColNumber(n,s.cols)+f;return s.direction===b.prev&&(m=s.rows+s.cols-m-1),m*s.tileDelay};return t({onPlay:()=>{if(i.value===null)return;e.displayComponent&&e.displayComponent.hide();const n={[b.prev]:q.backl,[b.next]:q.backr};i.value.transform((f,m)=>{const v=`all ${s.tileDuration}ms ${s.easing} ${c(m)}ms`;f.setCss({transition:v}),f.turn(n[s.direction])})},totalDuration:l}),(n,f)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:n.size,rscs:r,css:a},null,8,["rows","cols","size"]))}}),ns=x({__name:"Round2",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:null,cols:9,tileDuration:800,tileDelay:100,easing:"linear",rotateX:-540});R(s,e.options),e.maskStyle.overflow="visible";const r={perspective:"1200px"},a={backfaceVisibility:"hidden"};if(s.rows===null){const c=e.size.width.value/s.cols;s.rows=A(e.size.height.value/c)}const u=(s.cols/2+s.rows)*(s.tileDelay*2),l=c=>{const n=i.value.getRowNumber(c,s.cols),f=i.value.getColNumber(c,s.cols);let m,v;return s.direction===b.prev?(m=Math.abs(s.rows/2-.5-n),v=Math.abs(s.cols-f)):(m=Math.abs(s.rows/2-.5-n),v=Math.abs(f)),(m+v-1)*s.tileDelay};return t({onPlay:()=>{i.value!==null&&i.value.transform((c,n)=>{const f=`all ${s.tileDuration}ms ${s.easing} ${l(n)}ms`;c.transform({transition:f,opacity:"0",transform:`rotateY(${s.rotateX.toString()}deg)`})})},totalDuration:u}),(c,n)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:c.size,depth:0,rsc:c.from,css:r,"tile-css":a},null,8,["rows","cols","size","rsc"]))}}),ls=x({__name:"Explode",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(o,{expose:t}){const e=o,i=g(null),s=$({rows:9,cols:9,tileDuration:300,easing:"linear",tileDelay:100});R(s,e.options);const r={overflow:"visible"};if(e.maskStyle.overflow="visible",!e.options.rows){const l=e.size.width.value/s.cols;s.rows=A(e.size.height.value/l)}const a=(s.cols/2+s.rows/2)*(s.tileDelay*2),u=l=>{const c=i.value.getRowNumber(l,s.cols),n=i.value.getColNumber(l,s.cols),f=Math.abs(s.rows/2-.5-c),m=Math.abs(s.cols/2-.5-n);return(f+m-1)*s.tileDelay};return t({onPlay:()=>{i.value!==null&&i.value.transform((l,c)=>{const n=`all ${s.tileDuration}ms ${s.easing} ${u(c)}ms`;l.transform({transition:n,borderRadius:"100%",opacity:"0",transform:"scale(2)"})})},totalDuration:a}),(l,c)=>(d(),z(h(Y),{ref_key:"$grid",ref:i,rows:s.rows,cols:s.cols,size:l.size,rsc:l.from,css:r},null,8,["rows","cols","size","rsc"]))}});export{Ye as A,Fe as B,L as F,Ke as G,We as H,Ae as I,qe as J,He as K,Ve as M,Ie as N,Oe as O,Ge as Q,Je as U,Be as V,Xe as W,Ne as X,Me as Y,Z,at as a,Y as b,ot as c,At as d,je as e,Ue as f,Qe as g,ls as h,rs as i,W as j,b as k,ns as l,is as n,ss as o,Ze as q,os as r,es as s,ts as t,kt as x};
